!function(t){"use strict";function e(e){var i=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(this).ajaxSubmit(i))}function i(e){var i=e.target,s=t(i);if(!s.is("[type=submit],[type=image]")){var n=s.closest("[type=submit]");if(0===n.length)return;i=n[0]}var o=this;if(o.clk=i,"image"==i.type)if(void 0!==e.offsetX)o.clk_x=e.offsetX,o.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var r=s.offset();o.clk_x=e.pageX-r.left,o.clk_y=e.pageY-r.top}else o.clk_x=e.pageX-i.offsetLeft,o.clk_y=e.pageY-i.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function s(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var n={};n.fileapi=void 0!==t("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData;var o=!!t.fn.prop;t.fn.attr2=function(){if(!o)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function i(i){var s,n,o=t.param(i,e.traditional).split("&"),r=o.length,a=[];for(s=0;r>s;s++)o[s]=o[s].replace(/\+/g," "),n=o[s].split("="),a.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return a}function r(i){function n(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(t){s("cannot get iframe.contentWindow document: "+t)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(i){s("cannot get iframe.contentDocument: "+i),e=t.document}return e}function r(){function e(){try{var t=n(_).readyState;s("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(t){s("Server abort: ",t," (",t.name,")"),l(S),x&&clearTimeout(x),x=void 0}}var i=h.attr2("target"),o=h.attr2("action");k.setAttribute("target",g),a||k.setAttribute("method","POST"),o!=d.url&&k.setAttribute("action",d.url),d.skipEncodingOverride||a&&!/post/i.test(a)||h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(x=setTimeout(function(){w=!0,l(C)},d.timeout));var r=[];try{if(d.extraData)for(var c in d.extraData)d.extraData.hasOwnProperty(c)&&(t.isPlainObject(d.extraData[c])&&d.extraData[c].hasOwnProperty("name")&&d.extraData[c].hasOwnProperty("value")?r.push(t('<input type="hidden" name="'+d.extraData[c].name+'">').val(d.extraData[c].value).appendTo(k)[0]):r.push(t('<input type="hidden" name="'+c+'">').val(d.extraData[c]).appendTo(k)[0]));d.iframeTarget||(m.appendTo("body"),_.attachEvent?_.attachEvent("onload",l):_.addEventListener("load",l,!1)),setTimeout(e,15);try{k.submit()}catch(t){var u=document.createElement("form").submit;u.apply(k)}}finally{k.setAttribute("action",o),i?k.setAttribute("target",i):h.removeAttr("target"),t(r).remove()}}function l(e){if(!v.aborted&&!A){if(O=n(_),O||(s("cannot access response document"),e=S),e===C&&v)return v.abort("timeout"),void T.reject(v,"timeout");if(e==S&&v)return v.abort("server abort"),void T.reject(v,"error","server abort");if(O&&O.location.href!=d.iframeSrc||w){_.detachEvent?_.detachEvent("onload",l):_.removeEventListener("load",l,!1);var i,o="success";try{if(w)throw"timeout";var r="xml"==d.dataType||O.XMLDocument||t.isXMLDoc(O);if(s("isXml="+r),!r&&window.opera&&(null===O.body||!O.body.innerHTML)&&--E)return s("requeing onLoad callback, DOM not available"),void setTimeout(l,250);var a=O.body?O.body:O.documentElement;v.responseText=a?a.innerHTML:null,v.responseXML=O.XMLDocument?O.XMLDocument:O,r&&(d.dataType="xml"),v.getResponseHeader=function(t){return{"content-type":d.dataType}[t]},a&&(v.status=Number(a.getAttribute("status"))||v.status,v.statusText=a.getAttribute("statusText")||v.statusText);var c=(d.dataType||"").toLowerCase(),h=/(json|script|text)/.test(c);if(h||d.textarea){var u=O.getElementsByTagName("textarea")[0];if(u)v.responseText=u.value,v.status=Number(u.getAttribute("status"))||v.status,v.statusText=u.getAttribute("statusText")||v.statusText;else if(h){var p=O.getElementsByTagName("pre")[0],g=O.getElementsByTagName("body")[0];p?v.responseText=p.textContent?p.textContent:p.innerText:g&&(v.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"==c&&!v.responseXML&&v.responseText&&(v.responseXML=G(v.responseText));try{I=D(v,c,d)}catch(t){o="parsererror",v.error=i=t||o}}catch(t){s("error caught: ",t),o="error",v.error=i=t||o}v.aborted&&(s("upload aborted"),o=null),v.status&&(o=v.status>=200&&300>v.status||304===v.status?"success":"error"),"success"===o?(d.success&&d.success.call(d.context,I,"success",v),T.resolve(v.responseText,"success",v),f&&t.event.trigger("ajaxSuccess",[v,d])):o&&(void 0===i&&(i=v.statusText),d.error&&d.error.call(d.context,v,o,i),T.reject(v,"error",i),f&&t.event.trigger("ajaxError",[v,d,i])),f&&t.event.trigger("ajaxComplete",[v,d]),f&&!--t.active&&t.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,v,o),A=!0,d.timeout&&clearTimeout(x),setTimeout(function(){d.iframeTarget||m.remove(),v.responseXML=null},100)}}}var c,u,d,f,g,m,_,v,b,y,w,x,k=h[0],T=t.Deferred();if(i)for(u=0;p.length>u;u++)c=t(p[u]),o?c.prop("disabled",!1):c.removeAttr("disabled");if(d=t.extend(!0,{},t.ajaxSettings,e),d.context=d.context||d,g="jqFormIO"+(new Date).getTime(),d.iframeTarget?(m=t(d.iframeTarget),y=m.attr2("name"),y?g=y:m.attr2("name",g)):(m=t('<iframe name="'+g+'" src="'+d.iframeSrc+'" />'),m.css({position:"absolute",top:"-1000px",left:"-1000px"})),_=m[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var i="timeout"===e?"timeout":"aborted";s("aborting upload... "+i),this.aborted=1;try{_.contentWindow.document.execCommand&&_.contentWindow.document.execCommand("Stop")}catch(t){}m.attr("src",d.iframeSrc),v.error=i,d.error&&d.error.call(d.context,v,i,e),f&&t.event.trigger("ajaxError",[v,d,i]),d.complete&&d.complete.call(d.context,v,i)}},f=d.global,f&&0==t.active++&&t.event.trigger("ajaxStart"),f&&t.event.trigger("ajaxSend",[v,d]),d.beforeSend&&!1===d.beforeSend.call(d.context,v,d))return d.global&&t.active--,T.reject(),T;if(v.aborted)return T.reject(),T;(b=k.clk)&&(y=b.name)&&!b.disabled&&(d.extraData=d.extraData||{},d.extraData[y]=b.value,"image"==b.type&&(d.extraData[y+".x"]=k.clk_x,d.extraData[y+".y"]=k.clk_y));var C=1,S=2,j=t("meta[name=csrf-token]").attr("content"),$=t("meta[name=csrf-param]").attr("content");$&&j&&(d.extraData=d.extraData||{},d.extraData[$]=j),d.forceSync?r():setTimeout(r,10);var I,O,A,E=50,G=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},M=t.parseJSON||function(t){return window.eval("("+t+")")},D=function(e,i,s){var n=e.getResponseHeader("content-type")||"",o="xml"===i||!i&&n.indexOf("xml")>=0,r=o?e.responseXML:e.responseText;return o&&"parsererror"===r.documentElement.nodeName&&t.error&&t.error("parsererror"),s&&s.dataFilter&&(r=s.dataFilter(r,i)),"string"==typeof r&&("json"===i||!i&&n.indexOf("json")>=0?r=M(r):("script"===i||!i&&n.indexOf("javascript")>=0)&&t.globalEval(r)),r};return T}if(!this.length)return s("ajaxSubmit: skipping submit process - no element selected"),this;var a,l,c,h=this;"function"==typeof e&&(e={success:e}),a=e.type||this.attr2("method"),l=e.url||this.attr2("action"),c="string"==typeof l?t.trim(l):"",c=c||window.location.href||"",c&&(c=(c.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:c,success:t.ajaxSettings.success,type:a||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var u={};if(this.trigger("form-pre-serialize",[this,e,u]),u.veto)return s("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&!1===e.beforeSerialize(this,e))return s("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=e.traditional;void 0===d&&(d=t.ajaxSettings.traditional);var f,p=[],g=this.formToArray(e.semantic,p);if(e.data&&(e.extraData=e.data,f=t.param(e.data,d)),e.beforeSubmit&&!1===e.beforeSubmit(g,this,e))return s("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,e,u]),u.veto)return s("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var m=t.param(g,d);f&&(m=m?m+"&"+f:f),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+m,e.data=null):e.data=m;var _=[];if(e.resetForm&&_.push(function(){h.resetForm()}),e.clearForm&&_.push(function(){h.clearForm(e.includeHidden)}),!e.dataType&&e.target){var v=e.success||function(){};_.push(function(i){var s=e.replaceTarget?"replaceWith":"html";t(e.target)[s](i).each(v,arguments)})}else e.success&&_.push(e.success);if(e.success=function(t,i,s){for(var n=e.context||this,o=0,r=_.length;r>o;o++)_[o].apply(n,[t,i,s||h,h])},e.error){var b=e.error;e.error=function(t,i,s){var n=e.context||this;b.apply(n,[t,i,s,h])}}if(e.complete){var y=e.complete;e.complete=function(t,i){var s=e.context||this;y.apply(s,[t,i,h])}}var w=t('input[type=file]:enabled[value!=""]',this),x=w.length>0,k="multipart/form-data",T=h.attr("enctype")==k||h.attr("encoding")==k,C=n.fileapi&&n.formdata;s("fileAPI :"+C);var S,j=(x||T)&&!C;!1!==e.iframe&&(e.iframe||j)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){S=r(g)}):S=r(g):S=(x||T)&&C?function(s){for(var n=new FormData,o=0;s.length>o;o++)n.append(s[o].name,s[o].value);if(e.extraData){var r=i(e.extraData);for(o=0;r.length>o;o++)r[o]&&n.append(r[o][0],r[o][1])}e.data=null;var l=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:a||"POST"});e.uploadProgress&&(l.xhr=function(){var t=jQuery.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(t){var i=0,s=t.loaded||t.position,n=t.total;t.lengthComputable&&(i=Math.ceil(s/n*100)),e.uploadProgress(t,s,n,i)},!1),t}),l.data=null;var c=l.beforeSend;return l.beforeSend=function(t,e){e.data=n,c&&c.call(this,t,e)},t.ajax(l)}(g):t.ajax(e),h.removeData("jqxhr").data("jqxhr",S);for(var $=0;p.length>$;$++)p[$]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(n){if(n=n||{},n.delegation=n.delegation&&t.isFunction(t.fn.on),!n.delegation&&0===this.length){var o={s:this.selector,c:this.context};return!t.isReady&&o.s?(s("DOM not ready, queuing ajaxForm"),t(function(){t(o.s,o.c).ajaxForm(n)}),this):(s("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return n.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,n,e).on("click.form-plugin",this.selector,n,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,e).bind("click.form-plugin",n,i)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,i){var s=[];if(0===this.length)return s;var o=this[0],r=e?o.getElementsByTagName("*"):o.elements;if(!r)return s;var a,l,c,h,u,d,f;for(a=0,d=r.length;d>a;a++)if(u=r[a],(c=u.name)&&!u.disabled)if(e&&o.clk&&"image"==u.type)o.clk==u&&(s.push({name:c,value:t(u).val(),type:u.type}),s.push({name:c+".x",value:o.clk_x},{name:c+".y",value:o.clk_y}));else if((h=t.fieldValue(u,!0))&&h.constructor==Array)for(i&&i.push(u),l=0,f=h.length;f>l;l++)s.push({name:c,value:h[l]});else if(n.fileapi&&"file"==u.type){i&&i.push(u);var p=u.files;if(p.length)for(l=0;p.length>l;l++)s.push({name:c,value:p[l],type:u.type});else s.push({name:c,value:"",type:u.type})}else null!==h&&void 0!==h&&(i&&i.push(u),s.push({name:c,value:h,type:u.type,required:u.required}));if(!e&&o.clk){var g=t(o.clk),m=g[0];(c=m.name)&&!m.disabled&&"image"==m.type&&(s.push({name:c,value:g.val()}),s.push({name:c+".x",value:o.clk_x},{name:c+".y",value:o.clk_y}))}return s},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each(function(){var s=this.name;if(s){var n=t.fieldValue(this,e);if(n&&n.constructor==Array)for(var o=0,r=n.length;r>o;o++)i.push({name:s,value:n[o]});else null!==n&&void 0!==n&&i.push({name:this.name,value:n})}}),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],s=0,n=this.length;n>s;s++){var o=this[s],r=t.fieldValue(o,e);null===r||void 0===r||r.constructor==Array&&!r.length||(r.constructor==Array?t.merge(i,r):i.push(r))}return i},t.fieldValue=function(e,i){var s=e.name,n=e.type,o=e.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!s||e.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!e.checked||("submit"==n||"image"==n)&&e.form&&e.form.clk!=e||"select"==o&&-1==e.selectedIndex))return null;if("select"==o){var r=e.selectedIndex;if(0>r)return null;for(var a=[],l=e.options,c="select-one"==n,h=c?r+1:l.length,u=c?r:0;h>u;u++){var d=l[u];if(d.selected){var f=d.value;if(f||(f=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),c)return f;a.push(f)}}return a}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var s=this.type,n=this.tagName.toLowerCase();i.test(s)||"textarea"==n?this.value="":"checkbox"==s||"radio"==s?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==s?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(!0===e&&/hidden/.test(s)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=e;else if("option"==this.tagName.toLowerCase()){var s=t(this).parent("select");e&&s[0]&&"select-one"==s[0].type&&s.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){return t}function i(t){return decodeURIComponent(t.replace(n," "))}function s(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return o.json?JSON.parse(t):t}catch(t){}}var n=/\+/g,o=t.cookie=function(n,r,a){if(void 0!==r){if(a=t.extend({},o.defaults,a),"number"==typeof a.expires){var l=a.expires,c=a.expires=new Date;c.setDate(c.getDate()+l)}return r=o.json?JSON.stringify(r):String(r),document.cookie=[o.raw?n:encodeURIComponent(n),"=",o.raw?r:encodeURIComponent(r),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var h=o.raw?e:i,u=document.cookie.split("; "),d=n?void 0:{},f=0,p=u.length;f<p;f++){var g=u[f].split("="),m=h(g.shift()),_=h(g.join("="));if(n&&n===m){d=s(_);break}n||(d[m]=s(_))}return d};o.defaults={},t.removeCookie=function(e,i){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},i,{expires:-1})),!0)}}),jQuery.effects||function(t,e){var i="ui-effects-";t.effects={effect:{}},function(t,e){function i(t,e,i){var s=h[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:s.max<t?s.max:t)}function s(e){var i=l(),s=i._rgba=[];return e=e.toLowerCase(),f(a,function(t,n){var o,r=n.re.exec(e),a=r&&n.parse(r),l=n.space||"rgba";if(a)return o=i[l](a),i[c[l].cache]=o[c[l].cache],s=i._rgba=o._rgba,!1}),s.length?("0,0,0,0"===s.join()&&t.extend(s,o.transparent),i):o[e]}function n(t,e,i){return i=(i+1)%1,6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}var o,r=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=l.support={},d=t("<p>")[0],f=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=d.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,r,a,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(r),r=e);var u=this,d=t.type(n),p=this._rgba=[];return r!==e&&(n=[n,r,a,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&t.inArray(null,u[o].slice(0,3))<0&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):void 0},is:function(t){var e=l(t),i=!0,s=this;return f(c,function(t,n){var o,r=e[n.cache];return r&&(o=s[n.cache]||n.to&&n.to(s._rgba)||[],f(n.props,function(t,e){if(null!=r[e.idx])return i=r[e.idx]===o[e.idx]})),i}),i},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=c[n],r=0===this.alpha()?l("transparent"):this,a=r[o.cache]||o.to(r._rgba),u=a.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,r=a[o],l=s[o],c=h[n.type]||{};null!==l&&(null===r?u[o]=l:(c.mod&&(l-r>c.mod/2?r+=c.mod:r-l>c.mod/2&&(r-=c.mod)),u[o]=i((l-r)*e+r,n)))}),this[n](u)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,r=t[3],a=Math.max(s,n,o),l=Math.min(s,n,o),c=a-l,h=a+l,u=.5*h;return e=l===a?0:s===a?60*(n-o)/c+360:n===a?60*(o-s)/c+120:60*(s-n)/c+240,i=0===c?0:u<=.5?c/h:c/(2-h),[Math.round(e)%360,i,u,null==r?1:r]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],r=s<=.5?s*(1+i):s+i-s*i,a=2*s-r;return[Math.round(255*n(a,r,e+1/3)),Math.round(255*n(a,r,e)),Math.round(255*n(a,r,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,c=n.to,h=n.from;l.fn[s]=function(s){if(c&&!this[a]&&(this[a]=c(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),h?(n=l(h(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),l="alpha"===e?this._hsla?"hsla":"rgba":s,c=this[l](),h=c[i.idx];return"undefined"===a?h:("function"===a&&(n=n.call(this,h),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n))&&(n=h+parseFloat(o[2])*("+"===o[1]?1:-1)),c[i.idx]=n,this[l](c)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,r,a="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!u.rgba&&1!==n._rgba[3]){for(r="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&r&&r.style;)try{a=t.css(r,"backgroundColor"),r=r.parentNode}catch(t){}n=n.blend(a&&"transparent"!==a?a:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(t){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function s(e,i){var s,n,r={};for(s in i)n=i[s],e[s]!==n&&!o[s]&&(t.fx.step[s]||!isNaN(parseFloat(n)))&&(r[s]=n);return r}var n=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,o,r,a){var l=t.speed(o,r,a);return this.queue(function(){var o,r=t(this),a=r.attr("class")||"",c=l.children?r.find("*").addBack():r;c=c.map(function(){return{el:t(this),start:i(this)}}),o=function(){t.each(n,function(t,i){e[i]&&r[i+"Class"](e[i])})},o(),c=c.map(function(){return this.end=i(this.el[0]),this.diff=s(this.start,this.end),this}),r.attr("class",a),c=c.map(function(){var e=this,i=t.Deferred(),s=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,c.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(r[0])})})},t.fn.extend({_addClass:t.fn.addClass,addClass:function(e,i,s,n){return i?t.effects.animateClass.call(this,{add:e},i,s,n):this._addClass(e)},_removeClass:t.fn.removeClass,removeClass:function(e,i,s,n){return arguments.length>1?t.effects.animateClass.call(this,{remove:e},i,s,n):this._removeClass.apply(this,arguments)},_toggleClass:t.fn.toggleClass,toggleClass:function(i,s,n,o,r){return"boolean"==typeof s||s===e?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,r):this._toggleClass(i,s):t.effects.animateClass.call(this,{toggle:i},s,n,o)},switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function s(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]}t.extend(t.effects,{version:"1.10.1",save:function(t,e){for(var s=0;s<e.length;s++)null!==e[s]&&t.data(i+e[s],t[0].style[e[s]])},restore:function(t,s){var n,o;for(o=0;o<s.length;o++)null!==s[o]&&(n=t.data(i+s[o]),n===e&&(n=""),t.css(s[o],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function e(e){function s(){t.isFunction(o)&&o.call(n[0]),t.isFunction(e)&&e()}var n=t(this),o=i.complete,a=i.mode;(n.is(":hidden")?"hide"===a:"show"===a)?s():r.call(n[0],i,s)}var i=s.apply(this,arguments),n=i.mode,o=i.queue,r=t.effects.effect[i.effect];return t.fx.off||!r?n?this[n](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):!1===o?this.each(e):this.queue(o||"fx",e)},_show:t.fn.show,show:function(t){if(n(t))return this._show.apply(this,arguments);var e=s.apply(this,arguments);return e.mode="show",this.effect.call(this,e)},_hide:t.fn.hide,hide:function(t){if(n(t))return this._hide.apply(this,arguments);var e=s.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)},__toggle:t.fn.toggle,toggle:function(e){if(n(e)||"boolean"==typeof e||t.isFunction(e))return this.__toggle.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)},cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?i(2*t)/2:1-i(-2*t+2)/2}})}()}(jQuery),function(t,e){t.effects.effect.highlight=function(e,i){var s=t(this),n=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(s,e.mode||"show"),r={backgroundColor:s.css("backgroundColor")};"hide"===o&&(r.opacity=0),t.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&s.hide(),t.effects.restore(s,n),i()}})}}(jQuery),function(t){function e(e){if("string"==typeof e.data&&(e.data={keys:e.data}),e.data&&e.data.keys&&"string"==typeof e.data.keys){var i=e.handler,s=e.data.keys.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!(t.hotkeys.options.filterInputAcceptingElements&&t.hotkeys.textInputTypes.test(e.target.nodeName)||t.hotkeys.options.filterContentEditable&&t(e.target).attr("contenteditable")||t.hotkeys.options.filterTextInputs&&t.inArray(e.target.type,t.hotkeys.textAcceptingInputTypes)>-1)){var n="keypress"!==e.type&&t.hotkeys.specialKeys[e.which],o=String.fromCharCode(e.which).toLowerCase(),r="",a={};t.each(["alt","ctrl","shift"],function(t,i){e[i+"Key"]&&n!==i&&(r+=i+"+")}),e.metaKey&&!e.ctrlKey&&"meta"!==n&&(r+="meta+"),e.metaKey&&"meta"!==n&&r.indexOf("alt+ctrl+shift+")>-1&&(r=r.replace("alt+ctrl+shift+","hyper+")),n?a[r+n]=!0:(a[r+o]=!0,a[r+t.hotkeys.shiftNums[o]]=!0,"shift+"===r&&(a[t.hotkeys.shiftNums[o]]=!0));for(var l=0,c=s.length;l<c;l++)if(a[s[l]])return i.apply(this,arguments)}}}}t.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:e}})}(jQuery||this.jQuery||window.jQuery),function(t){t.jGrowl=function(e,i){0==t("#jGrowl").size()&&t('<div id="jGrowl"></div>').addClass(i&&i.position?i.position:t.jGrowl.defaults.position).appendTo("body"),t("#jGrowl").jGrowl(e,i)},t.fn.jGrowl=function(e,i){if(t.isFunction(this.each)){var s=arguments;return this.each(function(){void 0==t(this).data("jGrowl.instance")&&(t(this).data("jGrowl.instance",t.extend(new t.fn.jGrowl,{notifications:[],element:null,interval:null})),t(this).data("jGrowl.instance").startup(this)),t.isFunction(t(this).data("jGrowl.instance")[e])?t(this).data("jGrowl.instance")[e].apply(t(this).data("jGrowl.instance"),t.makeArray(s).slice(1)):t(this).data("jGrowl.instance").create(e,i)})}},t.extend(t.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:!1,position:"top-right",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3e3,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:!0,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(t,e,i){},beforeOpen:function(t,e,i){},afterOpen:function(t,e,i){},open:function(t,e,i){},beforeClose:function(t,e,i){},close:function(t,e,i){},animateOpen:{opacity:"show"},animateClose:{
opacity:"hide"}},notifications:[],element:null,interval:null,create:function(e,i){var i=t.extend({},this.defaults,i);void 0!==i.speed&&(i.openDuration=i.speed,i.closeDuration=i.speed),this.notifications.push({message:e,options:i}),i.log.apply(this.element,[this.element,e,i])},render:function(e){var i=this,s=e.message,n=e.options,e=t('<div class="jGrowl-notification '+n.themeState+" ui-corner-all"+(void 0!=n.group&&""!=n.group?" "+n.group:"")+'"><div class="jGrowl-close">'+n.closeTemplate+'</div><div class="jGrowl-header">'+n.header+'</div><div class="jGrowl-message">'+s+"</div></div>").data("jGrowl",n).addClass(n.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){t(this).parent().trigger("jGrowl.close")}).parent();t(e).bind("mouseover.jGrowl",function(){t("div.jGrowl-notification",i.element).data("jGrowl.pause",!0)}).bind("mouseout.jGrowl",function(){t("div.jGrowl-notification",i.element).data("jGrowl.pause",!1)}).bind("jGrowl.beforeOpen",function(){0!=n.beforeOpen.apply(e,[e,s,n,i.element])&&t(this).trigger("jGrowl.open")}).bind("jGrowl.open",function(){0!=n.open.apply(e,[e,s,n,i.element])&&("after"==n.glue?t("div.jGrowl-notification:last",i.element).after(e):t("div.jGrowl-notification:first",i.element).before(e),t(this).animate(n.animateOpen,n.openDuration,n.easing,function(){!t.browser.msie||1!==parseInt(t(this).css("opacity"),10)&&0!==parseInt(t(this).css("opacity"),10)||this.style.removeAttribute("filter"),t(this).data("jGrowl").created=new Date,t(this).trigger("jGrowl.afterOpen")}))}).bind("jGrowl.afterOpen",function(){n.afterOpen.apply(e,[e,s,n,i.element])}).bind("jGrowl.beforeClose",function(){0!=n.beforeClose.apply(e,[e,s,n,i.element])&&t(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){t(this).data("jGrowl.pause",!0),t(this).animate(n.animateClose,n.closeDuration,n.easing,function(){t(this).remove();var o=n.close.apply(e,[e,s,n,i.element]);t.isFunction(o)&&o.apply(e,[e,s,n,i.element])})}).trigger("jGrowl.beforeOpen"),""!=n.corners&&void 0!=t.fn.corner&&t(e).corner(n.corners),t("div.jGrowl-notification:parent",i.element).size()>1&&0==t("div.jGrowl-closer",i.element).size()&&0!=this.defaults.closer&&t(this.defaults.closerTemplate).addClass("jGrowl-closer ui-state-highlight ui-corner-all").addClass(this.defaults.theme).appendTo(i.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){t(this).siblings().trigger("jGrowl.beforeClose"),t.isFunction(i.defaults.closer)&&i.defaults.closer.apply(t(this).parent()[0],[t(this).parent()[0]])})},update:function(){t(this.element).find("div.jGrowl-notification:parent").each(function(){void 0!=t(this).data("jGrowl")&&void 0!=t(this).data("jGrowl").created&&t(this).data("jGrowl").created.getTime()+parseInt(t(this).data("jGrowl").life)<(new Date).getTime()&&1!=t(this).data("jGrowl").sticky&&(void 0==t(this).data("jGrowl.pause")||1!=t(this).data("jGrowl.pause"))&&t(this).trigger("jGrowl.beforeClose")}),this.notifications.length>0&&(0==this.defaults.pool||t(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)&&this.render(this.notifications.shift()),t(this.element).find("div.jGrowl-notification:parent").size()<2&&t(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){t(this).remove()})},startup:function(e){this.element=t(e).addClass("jGrowl").append('<div class="jGrowl-notification"></div>'),this.interval=setInterval(function(){t(e).data("jGrowl.instance").update()},parseInt(this.defaults.check)),t.browser.msie&&parseInt(t.browser.version)<7&&!window.XMLHttpRequest&&t(this.element).addClass("ie6")},shutdown:function(){t(this.element).removeClass("jGrowl").find("div.jGrowl-notification").remove(),clearInterval(this.interval)},close:function(){t(this.element).find("div.jGrowl-notification").each(function(){t(this).trigger("jGrowl.beforeClose")})}}),t.jGrowl.defaults=t.fn.jGrowl.prototype.defaults}(jQuery),function(t,e){var i=function(t,e,i){var s;return function(){function n(){i||t.apply(o,r),s=null}var o=this,r=arguments;s?clearTimeout(s):i&&t.apply(o,r),s=setTimeout(n,e||100)}};jQuery.fn[e]=function(t){return t?this.bind("resize",i(t)):this.trigger(e)}}(jQuery,"smartModalResize"),function(t){"use strict";var e={init:function(e){var i={top:"auto",left:"auto",autoOpen:!1,overlayOpacity:.5,overlayColor:"#000",overlayClose:!0,overlayParent:"body",closeOnEscape:!0,closeButtonClass:".close",transitionIn:"",transitionOut:"",onOpen:!1,onClose:!1,zIndex:function(){return function(t){return t===-1/0?0:t+1}(Math.max.apply(Math,t.makeArray(t("*").map(function(){return t(this).css("z-index")}).filter(function(){return t.isNumeric(this)}).map(function(){return parseInt(this,10)}))))},updateZIndexOnOpen:!0,hasVariableWidth:!1};return e=t.extend(i,e),this.each(function(){var i=e,s=t(this).parent(),n=t(this);s.css({"z-index":i.updateZIndexOnOpen?0:i.zIndex()+1}),n.bind("openModal",function(){var e=i.updateZIndexOnOpen?i.zIndex():parseInt(s.css("z-index"),10),o=e+1;""!==i.transitionIn&&""!==i.transitionOut&&n.removeClass(i.transitionOut).addClass(i.transitionIn),s.css({display:"block","z-index":o}),t("body").addClass("n-modal_open"),i.onOpen&&"function"==typeof i.onOpen&&i.onOpen(n[0])}),n.bind("closeModal",function(){""!==i.transitionIn&&""!==i.transitionOut?(n.removeClass(i.transitionIn).addClass(i.transitionOut),n.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){s.css("display","none")})):s.css("display","none"),t("body").removeClass("n-modal_open"),i.onClose&&"function"==typeof i.onClose&&i.onClose(n[0])}),s.click(function(t){t.target==this&&i.overlayClose&&n.trigger("closeModal")}),t(document).keydown(function(t){i.closeOnEscape&&27===t.keyCode&&n.trigger("closeModal")}),t(window).smartModalResize(function(){i.hasVariableWidth&&n.css({"margin-left":(parseInt(i.left,10)>-1?0:-n.outerWidth()/2)+"px","margin-top":(parseInt(i.top,10)>-1?0:-n.outerHeight()/2)+"px"})}),n.on("click",i.closeButtonClass,function(t){n.trigger("closeModal"),t.preventDefault()}),i.autoOpen&&n.trigger("openModal")})}};t.fn.easyModal=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on jQuery.easyModal"):e.init.apply(this,arguments)}}(jQuery),function(t){t.fn.tipTip=function(e){var i={activation:"hover",keepAlive:!1,maxWidth:"200px",edgeOffset:3,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:!1,enter:function(){},exit:function(){}},s=t.extend(i,e);if(t("#tiptip_holder").length<=0){var n=t('<div id="tiptip_holder" style="max-width:'+s.maxWidth+';"></div>'),o=t('<div id="tiptip_content"></div>'),r=t('<div id="tiptip_arrow"></div>');t("body").append(n.html(o).prepend(r.html('<div id="tiptip_arrow_inner"></div>')))}else var n=t("#tiptip_holder"),o=t("#tiptip_content"),r=t("#tiptip_arrow");return this.each(function(){function e(){s.enter.call(this),o.html(l),n.hide().removeAttr("class").css("margin","0"),r.removeAttr("style");var e=parseInt(a.offset().top),i=parseInt(a.offset().left),h=parseInt(a.outerWidth()),u=parseInt(a.outerHeight()),d=n.outerWidth(),f=n.outerHeight(),p=Math.round((h-d)/2),g=Math.round((u-f)/2),m=Math.round(i+p),_=Math.round(e+u+s.edgeOffset),v="",b="",y=Math.round(d-12)/2;"bottom"==s.defaultPosition?v="_bottom":"top"==s.defaultPosition?v="_top":"left"==s.defaultPosition?v="_left":"right"==s.defaultPosition&&(v="_right");var w=p+i<parseInt(t(window).scrollLeft()),x=d+i>parseInt(t(window).width());w&&p<0||"_right"==v&&!x||"_left"==v&&i<d+s.edgeOffset+5?(v="_right",b=Math.round(f-13)/2,y=-12,m=Math.round(i+h+s.edgeOffset),_=Math.round(e+g)):(x&&p<0||"_left"==v&&!w)&&(v="_left",b=Math.round(f-13)/2,y=Math.round(d),m=Math.round(i-(d+s.edgeOffset+5)),_=Math.round(e+g));var k=e+u+s.edgeOffset+f+8>parseInt(t(window).height()+t(window).scrollTop()),T=e+u-(s.edgeOffset+f+8)<0;k||"_bottom"==v&&k||"_top"==v&&!T?("_top"==v||"_bottom"==v?v="_top":v+="_top",b=f,_=Math.round(e-(f+5+s.edgeOffset))):(T|("_top"==v&&T)||"_bottom"==v&&!k)&&("_top"==v||"_bottom"==v?v="_bottom":v+="_bottom",b=-12,_=Math.round(e+u+s.edgeOffset)),"_right_top"==v||"_left_top"==v?_+=5:"_right_bottom"!=v&&"_left_bottom"!=v||(_-=5),"_left_top"!=v&&"_left_bottom"!=v||(m+=5),r.css({"margin-left":y+"px","margin-top":b+"px"}),n.css({"margin-left":m+"px","margin-top":_+"px"}).attr("class","tip"+v),c&&clearTimeout(c),c=setTimeout(function(){n.stop(!0,!0).fadeIn(s.fadeIn)},s.delay)}function i(){s.exit.call(this),c&&clearTimeout(c),n.fadeOut(s.fadeOut)}var a=t(this);if(s.content)var l=s.content;else var l=a.attr(s.attribute);if(""!=l){s.content||a.removeAttr(s.attribute);var c=!1;"hover"==s.activation?(a.hover(function(){e()},function(){s.keepAlive||i()}),s.keepAlive&&n.hover(function(){},function(){i()})):"focus"==s.activation?a.focus(function(){e()}).blur(function(){i()}):"click"==s.activation&&(a.click(function(){return e(),!1}).hover(function(){},function(){s.keepAlive||i()}),s.keepAlive&&n.hover(function(){},function(){i()}))}})}}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(e){return!e.nodeName||-1!==t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function i(e){return t.isFunction(e)||t.isPlainObject(e)?e:{top:e,left:e}}var s=t.scrollTo=function(e,i,s){return t(window).scrollTo(e,i,s)};return s.defaults={axis:"xy",duration:0,limit:!0},t.fn.scrollTo=function(n,o,r){"object"==typeof o&&(r=o,o=0),"function"==typeof r&&(r={onAfter:r}),"max"===n&&(n=9e9),r=t.extend({},s.defaults,r),o=o||r.duration;var a=r.queue&&r.axis.length>1;return a&&(o/=2),r.offset=i(r.offset),r.over=i(r.over),this.each(function(){function l(e){var i=t.extend({},r,{queue:!0,duration:o,complete:e&&function(){e.call(u,f,r)}});d.animate(p,i)}if(null!==n){var c,h=e(this),u=h?this.contentWindow||window:this,d=t(u),f=n,p={};switch(typeof f){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=i(f);break}f=h?t(f):t(f,u);case"object":if(0===f.length)return;(f.is||f.style)&&(c=(f=t(f)).offset())}var g=t.isFunction(r.offset)&&r.offset(u,f)||r.offset;t.each(r.axis.split(""),function(t,e){var i="x"===e?"Left":"Top",n=i.toLowerCase(),o="scroll"+i,m=d[o](),_=s.max(u,e);if(c)p[o]=c[n]+(h?0:m-d.offset()[n]),r.margin&&(p[o]-=parseInt(f.css("margin"+i),10)||0,p[o]-=parseInt(f.css("border"+i+"Width"),10)||0),p[o]+=g[n]||0,r.over[n]&&(p[o]+=f["x"===e?"width":"height"]()*r.over[n]);else{var v=f[n];p[o]=v.slice&&"%"===v.slice(-1)?parseFloat(v)/100*_:v}r.limit&&/^\d+$/.test(p[o])&&(p[o]=p[o]<=0?0:Math.min(p[o],_)),!t&&r.axis.length>1&&(m===p[o]?p={}:a&&(l(r.onAfterFirst),p={}))}),l(r.onAfter)}})},s.max=function(i,s){var n="x"===s?"Width":"Height",o="scroll"+n;if(!e(i))return i[o]-t(i)[n.toLowerCase()]();var r="client"+n,a=i.ownerDocument||i.document,l=a.documentElement,c=a.body;return Math.max(l[o],c[o])-Math.min(l[r],c[r])},t.Tween.propHooks.scrollLeft=t.Tween.propHooks.scrollTop={get:function(e){return t(e.elem)[e.prop]()},set:function(e){var i=this.get(e);if(e.options.interrupt&&e._last&&e._last!==i)return t(e.elem).stop();var s=Math.round(e.now);i!==s&&(t(e.elem)[e.prop](s),e._last=this.get(e))}},s}),function($,window,undefined){$.fn.tabslet=function(options){var defaults={mouseevent:"click",attribute:"href",animation:!1,autorotate:!1,deeplinking:!1,pauseonhover:!0,delay:2e3,active:1,container:!1,controls:{prev:".prev",next:".next"}},options=$.extend(defaults,options);return this.each(function(){function deep_link(){var t=[];elements.find("a").each(function(){t.push($(this).attr($this.opts.attribute))});var e=$.inArray(location.hash,t);return e>-1?e+1:$this.data("active")||options.active}var $this=$(this),_cache_li=[],_cache_div=[],_container=options.container?$(options.container):$this,_tabs=_container.find("> div");_tabs.each(function(){_cache_div.push($(this).css("display"))});var elements=$this.find("> ul li"),i=options.active-1;if(!$this.data("tabslet-init")){$this.data("tabslet-init",!0),$this.opts=[],$.map(["mouseevent","attribute","animation","autorotate","deeplinking","deeplinking","pauseonhover","delay","container"],function(t,e){$this.opts[t]=$this.data(t)||options[t]}),$this.opts.active=$this.opts.deeplinking?deep_link():$this.data("active")||options.active,_tabs.hide(),$this.opts.active&&(_tabs.eq($this.opts.active-1).show(),elements.eq($this.opts.active-1).find("a").addClass("active"));var fn=eval(function(){$(this).trigger("_before"),elements.find("a").removeClass("active"),$(this).find("a").addClass("active"),_tabs.hide(),i=elements.index($(this));var t=$(this).find("a").attr($this.opts.attribute);return $this.opts.deeplinking&&(location.hash=t),$this.opts.animation?_container.find(t).animate({opacity:"show"},"slow",function(){$(this).trigger("_after")}):(_container.find(t).show(),$(this).trigger("_after")),!1}),init=eval("elements."+$this.opts.mouseevent+"(fn)"),t,forward=function(){i=++i%elements.length,"hover"==$this.opts.mouseevent?elements.eq(i).trigger("mouseover"):elements.eq(i).click(),$this.opts.autorotate&&(clearTimeout(t),t=setTimeout(forward,$this.opts.delay),$this.mouseover(function(){$this.opts.pauseonhover&&clearTimeout(t)}))};$this.opts.autorotate&&(t=setTimeout(forward,$this.opts.delay),$this.hover(function(){$this.opts.pauseonhover&&clearTimeout(t)},function(){t=setTimeout(forward,$this.opts.delay)}),$this.opts.pauseonhover&&$this.on("mouseleave",function(){clearTimeout(t),t=setTimeout(forward,$this.opts.delay)}));var move=function(t){"forward"==t&&(i=++i%elements.length),"backward"==t&&(i=--i%elements.length),elements.eq(i).click()};$this.find(options.controls.next).click(function(){move("forward")}),$this.find(options.controls.prev).click(function(){move("backward")}),$this.on("next",function(){move("forward")}),$this.on("prev",function(){move("backward")}),$this.on("destroy",function(){$(this).removeData().find("> ul li").each(function(t){$(this).find("a").removeClass("active")}),_tabs.each(function(t){$(this).removeAttr("style").css("display",_cache_div[t])})})}})},$(document).ready(function(){$('[data-toggle="tabslet"]').tabslet()})}(jQuery),function(t,e,i){"use strict";var s=t(e),n=e.document,o=t(n),r=function(){for(var t=3,e=n.createElement("div"),i=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",i[0];);return t>4?t:void 0}(),a=function(){var t=void 0!==e.pageXOffset?e.pageXOffset:"CSS1Compat"==n.compatMode?e.document.documentElement.scrollLeft:e.document.body.scrollLeft,i=void 0!==e.pageYOffset?e.pageYOffset:"CSS1Compat"==n.compatMode?e.document.documentElement.scrollTop:e.document.body.scrollTop;void 0===a.x&&(a.x=t,a.y=i),void 0===a.distanceX?(a.distanceX=t,a.distanceY=i):(a.distanceX=t-a.x,a.distanceY=i-a.y);var s=a.x-t,o=a.y-i;a.direction=s<0?"right":s>0?"left":o<=0?"down":o>0?"up":"first",a.x=t,a.y=i};s.on("scroll",a),t.fn.hcStyle=function(i){if(!i)return null;var s,o=t(this),r=o.clone().css("display","none");r.find("input:radio").attr("name","copy-"+Math.floor(100*Math.random()+1)),o.after(r);var a=function(t,i){var s;return t.currentStyle?s=t.currentStyle[i.replace(/-\w/g,function(t){return t.toUpperCase().replace("-","")})]:e.getComputedStyle&&(s=n.defaultView.getComputedStyle(t,null).getPropertyValue(i)),s=/margin/g.test(i)?parseInt(s)===o[0].offsetLeft?s:"auto":s};return"string"==typeof i?s=a(r[0],i):(s={},t.each(i,function(t,e){s[e]=a(r[0],e)})),r.remove(),s||null},t.fn.extend({hcSticky:function(i){return 0==this.length?this:(this.pluginOptions("hcSticky",{top:0,bottom:0,bottomEnd:0,innerTop:0,innerSticker:null,className:"sticky",wrapperClassName:"wrapper-sticky",stickTo:null,responsive:!0,followScroll:!0,offResolutions:null,onStart:t.noop,onStop:t.noop,on:!0,fn:null},i||{},{reinit:function(){t(this).hcSticky()},stop:function(){t(this).pluginOptions("hcSticky",{on:!1}).each(function(){var e=t(this),i=e.pluginOptions("hcSticky"),s=e.parent("."+i.wrapperClassName),n=e.offset().top-s.offset().top;e.css({position:"absolute",top:n,bottom:"auto",left:"auto",right:"auto"}).removeClass(i.className)})},off:function(){t(this).pluginOptions("hcSticky",{on:!1}).each(function(){var e=t(this),i=e.pluginOptions("hcSticky"),s=e.parent("."+i.wrapperClassName);e.css({position:"relative",top:"auto",bottom:"auto",left:"auto",right:"auto"}).removeClass(i.className),s.css("height","auto")})},on:function(){t(this).each(function(){t(this).pluginOptions("hcSticky",{on:!0,remember:{offsetTop:s.scrollTop()}}).hcSticky()})},destroy:function(){var e=t(this),i=e.pluginOptions("hcSticky"),n=e.parent("."+i.wrapperClassName);e.removeData("hcStickyInit").css({position:n.css("position"),top:n.css("top"),bottom:n.css("bottom"),left:n.css("left"),right:n.css("right")}).removeClass(i.className),s.off("resize",i.fn.resize).off("scroll",i.fn.scroll),e.unwrap()}}),i&&void 0!==i.on&&(i.on?this.hcSticky("on"):this.hcSticky("off")),"string"==typeof i?this:this.each(function(){var i=t(this),n=i.pluginOptions("hcSticky"),l=function(){var t=i.parent("."+n.wrapperClassName);return t.length>0&&(t.css({height:i.outerHeight(!0),width:function(){var e=t.hcStyle("width");return e.indexOf("%")>=0||"auto"==e?("border-box"==i.css("box-sizing")||"border-box"==i.css("-moz-box-sizing")?i.css("width",t.width()):i.css("width",t.width()-parseInt(i.css("padding-left")-parseInt(i.css("padding-right")))),e):i.outerWidth(!0)}()}),t)}()||function(){var e=i.hcStyle(["width","margin-left","left","right","top","bottom","float","display"]),s=i.css("display"),o=t("<div>",{class:n.wrapperClassName}).css({display:s,height:i.outerHeight(!0),width:function(){return e.width.indexOf("%")>=0||"auto"==e.width&&"inline-block"!=s&&"inline"!=s?(i.css("width",parseFloat(i.css("width"))),e.width):"auto"!=e.width||"inline-block"!=s&&"inline"!=s?"auto"==e["margin-left"]?i.outerWidth():i.outerWidth(!0):i.width()}(),margin:e["margin-left"]?"auto":null,position:function(){var t=i.css("position");return"static"==t?"relative":t}(),float:e.float||null,left:e.left,right:e.right,top:e.top,bottom:e.bottom,"vertical-align":"top"});return i.wrap(o),7===r&&0===t("head").find("style#hcsticky-iefix").length&&t('<style id="hcsticky-iefix">.'+n.wrapperClassName+" {zoom: 1;}</style>").appendTo("head"),i.parent()}();if(!i.data("hcStickyInit")){i.data("hcStickyInit",!0);var c=!(!n.stickTo||!("document"==n.stickTo||n.stickTo.nodeType&&9==n.stickTo.nodeType||"object"==typeof n.stickTo&&n.stickTo instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document))),h=n.stickTo?c?o:"string"==typeof n.stickTo?t(n.stickTo):n.stickTo:l.parent();i.css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),s.load(function(){i.outerHeight(!0)>h.height()&&(l.css("height",i.outerHeight(!0)),i.hcSticky("reinit"))});var u=function(t){i.hasClass(n.className)||(t=t||{},i.css({position:"fixed",top:t.top||0,left:t.left||l.offset().left}).addClass(n.className),n.onStart.apply(i[0]),l.addClass("sticky-active"))},d=function(t){t=t||{},t.position=t.position||"absolute",t.top=t.top||0,t.left=t.left||0,"fixed"!=i.css("position")&&parseInt(i.css("top"))==t.top||(i.css({position:t.position,top:t.top,left:t.left}).removeClass(n.className),n.onStop.apply(i[0]),l.removeClass("sticky-active"))},f=function(e){if(n.on&&i.is(":visible")){if(i.outerHeight(!0)>=h.height())return void d();var o,r=n.innerSticker?t(n.innerSticker).position().top:n.innerTop?n.innerTop:0,f=l.offset().top,p=h.height()-n.bottomEnd+(c?0:f),g=l.offset().top-n.top+r,m=i.outerHeight(!0)+n.bottom,_=s.height(),v=s.scrollTop(),b=i.offset().top,y=b-v;if(void 0!==n.remember&&n.remember){var w=b-n.top-r;return void(m-r>_&&n.followScroll?w<v&&v+_<=w+i.height()&&(n.remember=!1):n.remember.offsetTop>w?v<=w&&(u({top:n.top-r}),n.remember=!1):v>=w&&(u({top:n.top-r}),n.remember=!1))}v>g?p+n.bottom-(n.followScroll&&_<m?0:n.top)<=v+m-r-(m-r>_-(g-r)&&n.followScroll&&(o=m-_-r)>0?o:0)?d({top:p-m+n.bottom-f}):m-r>_&&n.followScroll?y+m<=_?"down"==a.direction?u({top:_-m}):y<0&&"fixed"==i.css("position")&&d({top:b-(g+n.top-r)-a.distanceY}):"up"==a.direction&&b>=v+n.top-r?u({top:n.top-r}):"down"==a.direction&&b+m>_&&"fixed"==i.css("position")&&d({top:b-(g+n.top-r)-a.distanceY}):u({top:n.top-r}):d()}},p=!1,g=!1,m=function(){if(v(),_(),n.on){if(n.responsive){g||(g=i.clone().attr("style","").css({visibility:"hidden",height:0,overflow:"hidden",paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0}),l.after(g));var t=l.hcStyle("width"),e=g.hcStyle("width");"auto"==e&&"auto"!=t&&(e=parseInt(i.css("width"))),e!=t&&l.width(e),p&&clearTimeout(p),p=setTimeout(function(){p=!1,g.remove(),g=!1},250)}if(function(){"fixed"==i.css("position")?i.css("left",l.offset().left):i.css("left",0)}(),i.outerWidth(!0)!=l.width()){var s="border-box"==i.css("box-sizing")||"border-box"==i.css("-moz-box-sizing")?l.width():l.width()-parseInt(i.css("padding-left"))-parseInt(i.css("padding-right"));s=s-parseInt(i.css("margin-left"))-parseInt(i.css("margin-right")),i.css("width",s)}}};i.pluginOptions("hcSticky",{fn:{scroll:f,resize:m}});var _=function(){if(n.offResolutions){t.isArray(n.offResolutions)||(n.offResolutions=[n.offResolutions]);var e=!0;t.each(n.offResolutions,function(t,n){n<0?s.width()<-1*n&&(e=!1,i.hcSticky("off")):s.width()>n&&(e=!1,i.hcSticky("off"))}),e&&!n.on&&i.hcSticky("on")}};_(),s.on("resize",m);var v=function(){var i=!1;void 0!=t._data(e,"events").scroll&&t.each(t._data(e,"events").scroll,function(t,e){e.handler==n.fn.scroll&&(i=!0)}),i||(n.fn.scroll(!0),s.on("scroll",n.fn.scroll))};v()}}))}})}(jQuery,this),function(t,e){"use strict";t.fn.extend({pluginOptions:function(e,i,s,n){return this.data(e)||this.data(e,{}),e&&void 0===i?this.data(e).options:(s=s||i||{},"object"==typeof s||void 0===s?this.each(function(){var o=t(this);o.data(e).options?o.data(e,t.extend(o.data(e),{options:t.extend(o.data(e).options,s||{})})):(o.data(e,{options:t.extend(i,s||{})}),n&&(o.data(e).commands=n))}):"string"==typeof s?this.each(function(){t(this).data(e).commands[s].call(this)}):this)}})}(jQuery),function(){var t,e,i,s,n,o={}.hasOwnProperty,r=function(t,e){function i(){this.constructor=t}for(var s in e)o.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};s=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,s,n,o,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=t.childNodes,r=[],s=0,n=o.length;s<n;s++)i=o[s],r.push(this.add_option(i,e,t.disabled));return r},t.prototype.add_option=function(t,e,i){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===i?i:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t.prototype.escapeExpression=function(t){var e,i;return null==t||!1===t?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}(),s.select_to_array=function(t){var e,i,n,o,r;for(i=new s,r=t.childNodes,n=0,o=r.length;n<o;n++)e=r[n],i.add_node(e);return i.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){var e=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return e.blur_test()},100)},t.prototype.results_option_build=function(t){var e,i,s,n,o,r,a;for(e="",n=0,a=this.results_data,o=0,r=a.length;o<r&&(i=a[o],s="",s=i.group?this.result_add_group(i):this.result_add_option(i),""!==s&&(n++,e+=s),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(n>=this.max_shown_results));o++);return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.style.cssText=t.style,i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.result_add_group=function(t){var e,i;return(t.search_match||t.group_match)&&t.active_options>0?(e=[],e.push("group-result"),t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.reset_single_select_options=function(){var t,e,i,s,n;for(s=this.results_data,n=[],e=0,i=s.length;e<i;e++)t=s[e],t.selected?n.push(t.selected=!1):n.push(void 0);return n},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,i,s,n,o,r,a,l,c,h,u;for(this.no_results_clear(),s=0,o=this.get_search_text(),t=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(t,"i"),i=this.get_search_regex(t),u=this.results_data,c=0,h=u.length;c<h;c++)e=u[c],e.search_match=!1,n=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(n=this.results_data[e.group_array_index],0===n.active_options&&n.search_match&&(s+=1),n.active_options+=1),e.search_text=e.group?e.label:e.html,e.group&&!this.group_search||(e.search_match=this.search_string_match(e.search_text,i),e.search_match&&!e.group&&(s+=1),e.search_match?(o.length&&(r=e.search_text.search(l),a=e.search_text.substr(0,r+o.length)+"</em>"+e.search_text.substr(r+o.length),e.search_text=a.substr(0,r)+"<em>"+a.substr(r)),null!=n&&(n.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),s<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e;return e=this.search_contains?"":"^",new RegExp(e+t,"i")},t.prototype.search_string_match=function(t,e){var i,s,n,o;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(s=t.replace(/\[|\]/g,"").split(" "),s.length))for(n=0,o=s.length;n<o;n++)if(i=s[n],e.test(i))return!0},t.prototype.choices_count=function(){var t,e,i,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,s=this.form_field.options,e=0,i=s.length;e<i;e++)t=s[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},t.prototype.clipboard_event_checker=function(t){var e=this;return setTimeout(function(){return e.results_search()},50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){
if(this.touch_started)return this.search_results_mouseup(t)},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},t.browser_is_supported=function(){return!/iP(od|hone)/i.test(window.navigator.userAgent)&&((!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent))&&(!/IEMobile/i.test(window.navigator.userAgent)&&(!/Windows Phone/i.test(window.navigator.userAgent)&&(!/BlackBerry/i.test(window.navigator.userAgent)&&(!/BB10/i.test(window.navigator.userAgent)&&("Microsoft Internet Explorer"!==window.navigator.appName||document.documentMode>=8))))))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(s){return e.browser_is_supported()?this.each(function(e){var n,o;if(n=t(this),o=n.data("chosen"),"destroy"===s)return void(o instanceof i&&o.destroy());o instanceof i||n.data("chosen",new i(this,s))}):this}}),i=function(e){function i(){return n=i.__super__.constructor.apply(this,arguments)}return r(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var e,i;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={class:e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},i.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){return t.container_mousedown(e),e.preventDefault()}),this.container.bind("touchend.chosen",function(e){return t.container_mouseup(e),e.preventDefault()}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},i.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(e){if(!this.is_disabled&&(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null==e||!t(e.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},i.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},i.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},i.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){var i;return i=t(e.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=s.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,i,s,n,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),n=s+o,i=this.result_highlight.position().top+this.search_results.scrollTop(),(e=i+this.result_highlight.outerHeight())>=n)return this.search_results.scrollTop(e-s>0?e-s:0);if(i<o)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},i.prototype.set_label_behavior=function(){var e=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()})},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length)return this.result_highlight=i,this.result_select(e),this.search_field.focus()},i.prototype.search_results_mouseover=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(i)},i.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result"))return this.result_clear_highlight()},i.prototype.choice_build=function(e){var i,s,n=this;return i=t("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(s=t("<a />",{class:"search-choice-close","data-option-array-index":e.array_index}),s.bind("click.chosen",function(t){return n.choice_destroy_link_click(t)}),i.append(s)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},i.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),i=this.results_data[e[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},i.prototype.get_search_text=function(){return t("<div/>").text(t.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;if(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),null!=(t=e.length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},i.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,i,s,n,o,r,a,l;if(this.is_multiple){for(0,r=0,n="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,l=o.length;a<l;a++)s=o[a],n+=s+":"+this.search_field.css(s)+";";return e=t("<div />",{style:n}),e.text(this.search_field.val()),t("body").append(e),r=e.width()+25,e.remove(),i=this.container.outerWidth(),r>i-10&&(r=i-10),this.search_field.css({width:r+"px"})}},i}(e)}.call(this),function(t){"undefined"!=typeof module&&"object"==typeof exports?"undefined"!=typeof window?module.exports=t():module.exports=t:window.Dropdown=t()}(function(t){var e=function(t){this.menu="object"==typeof t?t:document.querySelector(t),this.init()};e.prototype={init:function(){this.actions(),this.menu.setAttribute("tabindex","0"),document.addEventListener("click",this.handle,!1)},actions:function(){var t=this;this.handle=function(e){var i=e.target||e.currentTarget,s=[],n=t.menu.parentNode.getElementsByTagName("*");/\#$/g.test(i.href)&&e.preventDefault();for(var o=0,r=n.length||0;o<r;o++)r&&s.push(n[o]);if(i===t.menu||i.parentNode===t.menu||i.parentNode.parentNode===t.menu)t.toggle(e);else{if(s&&s.indexOf(i)>-1)return;t.close()}},this.toggle=function(t){/\bdropdown_active/.test(this.menu.parentNode.className)?(this.close(),document.removeEventListener("keydown",this.key,!1)):(this.menu.parentNode.classList.add("dropdown_active"),this.menu.classList.add("btn_active"),this.menu.setAttribute("aria-expanded",!0),document.addEventListener("keydown",this.key,!1))},this.key=function(e){27==e.which&&t.close()},this.close=function(){t.menu.parentNode.classList.remove("dropdown_active"),t.menu.classList.remove("btn_active"),t.menu.setAttribute("aria-expanded",!1)}}};var i=document.querySelectorAll("[data-toggle=dropdown]"),s=0,n=i.length;for(s;s<n;s++)new e(i[s]);return e}),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,s=arguments.length;for(i=0;i<s;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():function(t){"use strict";if("Element"in t){var e=t.Element.prototype,i=Object,s=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},n=Array.prototype.indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},o=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},r=function(t,e){if(""===e)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return n.call(t,e)},a=function(t){for(var e=s.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,o=i.length;n<o;n++)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},l=a.prototype=[],c=function(){return new a(this)};if(o.prototype=Error.prototype,l.item=function(t){return this[t]||null},l.contains=function(t){return t+="",-1!==r(this,t)},l.add=function(){var t,e=arguments,i=0,s=e.length,n=!1;do{t=e[i]+"",-1===r(this,t)&&(this.push(t),n=!0)}while(++i<s);n&&this._updateClassName()},l.remove=function(){var t,e,i=arguments,s=0,n=i.length,o=!1;do{for(t=i[s]+"",e=r(this,t);-1!==e;)this.splice(e,1),o=!0,e=r(this,t)}while(++s<n);o&&this._updateClassName()},l.toggle=function(t,e){t+="";var i=this.contains(t),s=i?!0!==e&&"remove":!1!==e&&"add";return s&&this[s](t),!0===e||!1===e?e:!i},l.toString=function(){return this.join(" ")},i.defineProperty){var h={get:c,enumerable:!0,configurable:!0};try{i.defineProperty(e,"classList",h)}catch(t){-2146823252===t.number&&(h.enumerable=!1,i.defineProperty(e,"classList",h))}}else i.prototype.__defineGetter__&&e.__defineGetter__("classList",c)}}(self)),function(t){t.fn.overflowing=function(e,i){var s=this,n=[],o=!(!i||"function"!=typeof i),r=!1;if(this.options=e||window,this.each(function(){var e=t(this);elPosition=e.position(),elWidth=e.width(),elHeight=e.height();var a=e.parentsUntil(s.options),l=t(s.options);a.push(l);for(var c=0;c<a.length;c++){var h=t(a[c]).position(),u=(t(a[c]).width(),t(a[c]).height());(elPosition.top<0||elPosition.top>u+h.top||elPosition.top+elHeight>u+h.top)&&(r=!0,t(a[c]).addClass("overflowed"),n.push(a[c]),o&&i(a[c]))}e.parents(s.options).hasClass("overflowed")&&e.addClass("overflowing")}),!o)return n.length>1?n:r}}(jQuery),function(t){"use strict";var e=function(t){var e,s;return function(){e=!1},function(){var n=i(arguments);if(e)return void(s=n);e=!0;var o=this;n.unshift(function i(){if(s){var n=s;s=void 0,n.unshift(i),t.apply(o,n)}else e=!1}),t.apply(this,n)}},i=function(t){return Array.prototype.slice.call(t)},s=function(){var e;return e=t("<div></div>").css(["color"]).color,void 0!==e?function(t,e){return t.css(e)}:function(e,i){var s;return s={},t.each(i,function(t,i){s[i]=e.css(i)}),s}}(),n=function(t){return t},o=function(t){var e={};return function(i,s){e[i]?s(e[i]):t.call(this,i,function(t){e[i]=(e[i]||[]).concat(t),s.apply(null,arguments)})}},r=function(t,e){var i,s;if(t.indexOf)return-1!=t.indexOf(e);for(i=0,s=t.length;i<s;i++)if(t[i]===e)return!0;return!1},a=function(){function i(e,i){var s;this.el=e.get(0),s=this.el===document.activeElement,this.$el=e,this.id="textComplete"+a++,this.strategies=[],this.option=i,s?(this.initialize(),this.$el.focus()):this.$el.one("focus.textComplete",t.proxy(this.initialize,this))}var n,o,r,a;return n={list:'<ul class="dropdown-menu"></ul>'},o={list:{position:"absolute",left:0,zIndex:"100",display:"none"}},r=t(n.list).css(o.list),a=0,t.extend(i.prototype,{initialize:function(){var e,i,s;e=r.clone(),this.listView=new l(e,this),this.$el.on({"keyup.textComplete":t.proxy(this.onKeyup,this),"keydown.textComplete":t.proxy(this.listView.onKeydown,this.listView)}),s=this.option.appendTo,s?e.appendTo(s instanceof t?s:t(s)):e.appendTo(t("body")),i={},i["click."+this.id]=t.proxy(this.onClickDocument,this),i["keyup."+this.id]=t.proxy(this.onKeyupDocument,this),t(document).on(i)},register:function(t){this.strategies=this.strategies.concat(t)},renderList:function(t){this.clearAtNext&&(this.listView.clear(),this.clearAtNext=!1),t.length&&(this.listView.strategy=this.strategy,this.listView.shown||this.listView.setPosition(this.getCaretPosition()).clear().activate(),t=t.slice(0,this.strategy.maxCount),this.listView.render(t)),!this.listView.data.length&&this.listView.shown&&this.listView.deactivate()},searchCallbackFactory:function(t){var e=this;return function(i,s){e.renderList(i),s||(t(),e.clearAtNext=!0)}},onKeyup:function(t){var e,i;if(!this.skipSearch(t))if(e=this.extractSearchQuery(this.getTextFromHeadToCaret()),e.length){if(i=e[1],this.term===i)return;this.term=i,this.search(e)}else this.term=null,this.listView.deactivate()},skipSearch:function(t){switch(t.keyCode){case 40:case 38:return!0}if(t.ctrlKey)switch(t.keyCode){case 78:case 80:return!0}},onSelect:function(e){var i,s,n,o,r,a;if(i=this.getTextFromHeadToCaret(),"true"==this.el.contentEditable){o=window.getSelection(),r=o.getRangeAt(0),a=r.cloneRange(),a.selectNodeContents(r.startContainer);s=a.toString().substring(r.startOffset)}else s=this.el.value.substring(this.el.selectionEnd);if(n=this.strategy.replace(e),t.isArray(n)&&(s=n[1]+s,n=n[0]),i=i.replace(this.strategy.match,n),"true"==this.el.contentEditable){r.selectNodeContents(r.startContainer),r.deleteContents();var l=document.createTextNode(i+s);r.insertNode(l),r.setStart(l,i.length),r.collapse(!0),o.removeAllRanges(),o.addRange(r)}else this.$el.val(i+s),this.el.selectionStart=this.el.selectionEnd=i.length;this.$el.trigger("change").trigger("textComplete:select",e),this.el.focus()},onClickDocument:function(t){t.originalEvent&&!t.originalEvent.keepTextCompleteDropdown&&this.listView.deactivate()},onKeyupDocument:function(t){this.listView.shown&&27===t.keyCode&&(this.listView.deactivate(),this.$el.focus())},destroy:function(){this.$el.off(".textComplete"),t(document).off("."+this.id),this.listView&&this.listView.destroy(),this.$el.data("textComplete",void 0),this.$el=null},getCaretPosition:function(){var t,e;return t=this.getCaretRelativePosition(),e=this.$el.offset(),t.top+=e.top,t.left+=e.left,t},getCaretRelativePosition:function(){var e,i,n,o,r,a,l,c,h,u;return"true"!=this.el.contentEditable?(e=["border-width","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","word-spacing","line-height","text-decoration","text-align","width","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left","border-style","box-sizing"],l=this.$el[0].scrollHeight>this.$el[0].offsetHeight,i=t.extend({position:"absolute",overflow:l?"scroll":"auto","white-space":"pre-wrap",top:0,left:-9999,direction:a},s(this.$el,e)),n=t("<div></div>").css(i).text(this.getTextFromHeadToCaret()),o=t("<span></span>").text(".").appendTo(n),this.$el.before(n),r=o.position(),r.top+=o.height()-this.$el.scrollTop(),n.remove()):(c=window.getSelection().getRangeAt(0).cloneRange(),h=document.createElement("span"),c.insertNode(h),c.selectNodeContents(h),c.deleteContents(),u=t(h),r=u.offset(),r.top+=u.height()-this.$el.offset().top),a=this.$el.attr("dir")||this.$el.css("direction"),"rtl"===a&&(r.left-=this.listView.$el.width()),r},getTextFromHeadToCaret:function(){var t,e,i;if("true"==this.el.contentEditable){if(window.getSelection){var i=window.getSelection().getRangeAt(0),s=i.cloneRange();s.selectNodeContents(i.startContainer),t=s.toString().substring(0,i.startOffset)}}else e=this.el.selectionEnd,"number"==typeof e?t=this.el.value.substring(0,e):document.selection&&(i=this.el.createTextRange(),i.moveStart("character",0),i.moveEnd("textedit"),t=i.text);return t},extractSearchQuery:function(t){var e,i,s,n;for(e=0,i=this.strategies.length;e<i;e++)if(s=this.strategies[e],n=t.match(s.match))return[s,n[s.index]];return[]},search:e(function(t,e){var i;this.strategy=e[0],i=e[1],this.strategy.search(i,this.searchCallbackFactory(t))})}),i}(),l=function(){function e(e,i){this.data=[],this.$el=e,this.index=0,this.completer=i,this.$el.on("mousedown.textComplete","li.textcomplete-item",t.proxy(this.onClick,this))}return t.extend(e.prototype,{shown:!1,render:function(e){var i,s,n,o,a,l;for(i="",this.strategy.header&&(l=t.isFunction(this.strategy.header)?this.strategy.header(e):this.strategy.header,i+='<li class="textcomplete-header">'+l+"</li>"),s=0,n=e.length;s<n&&(a=e[s],r(this.data,a)||(o=this.data.length,this.data.push(a),i+='<li class="textcomplete-item" data-index="'+o+'"><a>',i+=this.strategy.template(a),i+="</a></li>",this.data.length!==this.strategy.maxCount));s++);this.strategy.footer&&(l=t.isFunction(this.strategy.footer)?this.strategy.footer(e):this.strategy.footer,i+='<li class="textcomplete-footer">'+l+"</li>"),this.$el.append(i),this.data.length?this.activateIndexedItem():this.deactivate()},clear:function(){return this.data=[],this.$el.html(""),this.index=0,this},activateIndexedItem:function(){this.$el.find(".active").removeClass("active"),this.getActiveItem().addClass("active")},getActiveItem:function(){return t(this.$el.children(".textcomplete-item").get(this.index))},activate:function(){return this.shown||(this.$el.show(),this.completer.$el.trigger("textComplete:show"),this.shown=!0),this},deactivate:function(){return this.shown&&(this.$el.hide(),this.completer.$el.trigger("textComplete:hide"),this.shown=!1,this.data=[],this.index=null),this},setPosition:function(t){var e;return"top"===this.strategy.placement?(e=parseInt(this.$el.css("font-size")),t={top:"auto",bottom:this.$el.parent().height()-t.top+e,left:t.left}):t.bottom="auto",this.$el.css(t),this},select:function(t){var e=this;this.completer.onSelect(this.data[t]),setTimeout(function(){e.deactivate()},0)},onKeydown:function(t){this.shown&&(38===t.keyCode||t.ctrlKey&&80===t.keyCode?(t.preventDefault(),0===this.index?this.index=this.data.length-1:this.index-=1,this.activateIndexedItem()):40===t.keyCode||t.ctrlKey&&78===t.keyCode?(t.preventDefault(),this.index===this.data.length-1?this.index=0:this.index+=1,this.activateIndexedItem()):13!==t.keyCode&&9!==t.keyCode||(t.preventDefault(),this.select(parseInt(this.getActiveItem().data("index"),10))))},onClick:function(e){var i=t(e.target);e.preventDefault(),e.originalEvent.keepTextCompleteDropdown=!0,i.hasClass("textcomplete-item")||(i=i.parents("li.textcomplete-item")),this.select(parseInt(i.data("index"),10))},destroy:function(){this.deactivate(),this.$el.off("click.textComplete").remove(),this.$el=null}}),e}();t.fn.textcomplete=function(e,i){var s,r,l,c;if(c="textComplete",i||(i={}),"destroy"===e)return this.each(function(){var e=t(this).data(c);e&&e.destroy()});for(s=0,r=e.length;s<r;s++)l=e[s],l.template||(l.template=n),null==l.index&&(l.index=2),l.cache&&(l.search=o(l.search)),l.maxCount||(l.maxCount=10);return this.each(function(){var s,n;s=t(this),n=s.data(c),n||(n=new a(s,i),s.data(c,n)),n.register(e)})}}(window.jQuery||window.Zepto),function($){function fnFormatResult(t,e,i){var s="("+i.replace(reEscape,"\\$1")+")";return t.toString().replace(new RegExp(s,"gi"),"<strong>$1</strong>")}function Autocomplete(t,e){this.el=$(t),this.el.attr("autocomplete","off"),this.suggestions=[],this.data=[],this.badQueries=[],this.selectedIndex=-1,this.currentValue=this.el.val(),this.intervalId=0,this.cachedResponse=[],this.onChangeInterval=null,this.ignoreValueChange=!1,this.serviceUrl=e.serviceUrl,this.isLocal=!1,this.options={autoSubmit:!1,minChars:1,maxHeight:300,deferRequestBy:0,width:0,highlight:!0,params:{},fnFormatResult:fnFormatResult,delimiter:null,zIndex:9999},this.initialize(),this.setOptions(e)}var reEscape=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g");$.fn.autocomplete=function(t){return new Autocomplete(this.get(0)||$("<input />"),t)},Autocomplete.prototype={killerFn:null,initialize:function(){var t,e,i;t=this,e=Math.floor(1048576*Math.random()).toString(16),i="Autocomplete_"+e,this.killerFn=function(e){0===$(e.target).parents(".autocomplete").size()&&(t.killSuggestions(),t.disableKillerFn())},this.options.width||(this.options.width=this.el.width()),this.mainContainerId="AutocompleteContainter_"+e,$('<div id="'+this.mainContainerId+'" style="position:absolute;z-index:9999;"><div class="autocomplete-w1"><div class="autocomplete" id="'+i+'" style="display:none; width:300px;"></div></div></div>').appendTo("body"),this.container=$("#"+i),this.fixPosition(),window.opera?this.el.keypress(function(e){t.onKeyPress(e)}):this.el.keydown(function(e){t.onKeyPress(e)}),
this.el.keyup(function(e){t.onKeyUp(e)}),this.el.blur(function(){t.enableKillerFn()}),this.el.focus(function(){t.fixPosition()})},setOptions:function(t){var e=this.options;$.extend(e,t),e.lookup&&(this.isLocal=!0,$.isArray(e.lookup)&&(e.lookup={suggestions:e.lookup,data:[]})),$("#"+this.mainContainerId).css({zIndex:e.zIndex}),this.container.css({maxHeight:e.maxHeight+"px",width:e.width})},clearCache:function(){this.cachedResponse=[],this.badQueries=[]},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},fixPosition:function(){var t=this.el.offset();$("#"+this.mainContainerId).css({top:t.top+this.el.innerHeight()+"px",left:t.left+"px"})},enableKillerFn:function(){var t=this;$(document).bind("click",t.killerFn)},disableKillerFn:function(){var t=this;$(document).unbind("click",t.killerFn)},killSuggestions:function(){var t=this;this.stopKillSuggestions(),this.intervalId=window.setInterval(function(){t.hide(),t.stopKillSuggestions()},300)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},onKeyPress:function(t){if(!this.disabled&&this.enabled){switch(t.keyCode){case 27:this.el.val(this.currentValue),this.hide();break;case 9:case 13:if(-1===this.selectedIndex)return void this.hide();if(this.select(this.selectedIndex),9===t.keyCode)return;break;case 38:this.moveUp();break;case 40:this.moveDown();break;default:return}t.stopImmediatePropagation(),t.preventDefault()}},onKeyUp:function(t){if(!this.disabled){switch(t.keyCode){case 38:case 40:return}if(clearInterval(this.onChangeInterval),this.currentValue!==this.el.val())if(this.options.deferRequestBy>0){var e=this;this.onChangeInterval=setInterval(function(){e.onValueChange()},this.options.deferRequestBy)}else this.onValueChange()}},onValueChange:function(){clearInterval(this.onChangeInterval),this.currentValue=this.el.val();var t=this.getQuery(this.currentValue);if(this.selectedIndex=-1,this.ignoreValueChange)return void(this.ignoreValueChange=!1);""===t||t.length<this.options.minChars?this.hide():this.getSuggestions(t)},getQuery:function(t){var e,i;return(e=this.options.delimiter)?(i=t.split(e),$.trim(i[i.length-1])):$.trim(t)},getSuggestionsLocal:function(t){var e,i,s,n,o;for(i=this.options.lookup,s=i.suggestions.length,e={suggestions:[],data:[]},t=t.toLowerCase(),o=0;o<s;o++)n=i.suggestions[o],0===n.toLowerCase().indexOf(t)&&(e.suggestions.push(n),e.data.push(i.data[o]));return e},getSuggestions:function(t){var e,i;e=this.isLocal?this.getSuggestionsLocal(t):this.cachedResponse[t],e&&$.isArray(e.suggestions)?(this.suggestions=e.suggestions,this.data=e.data,this.suggest()):this.isBadQuery(t)||(i=this,i.options.params.query=t,$.get(this.serviceUrl,i.options.params,function(t){i.processResponse(t)},"text"))},isBadQuery:function(t){for(var e=this.badQueries.length;e--;)if(0===t.indexOf(this.badQueries[e]))return!0;return!1},hide:function(){this.enabled=!1,this.selectedIndex=-1,this.container.hide()},suggest:function(){if(0===this.suggestions.length)return void this.hide();var t,e,i,s,n,o,r,a,l;for(t=this,e=this.suggestions.length,s=this.options.fnFormatResult,n=this.getQuery(this.currentValue),a=function(e){return function(){t.activate(e)}},l=function(e){return function(){t.select(e)}},this.container.hide().empty(),o=0;o<e;o++)r=this.suggestions[o],i=$((t.selectedIndex===o?'<div class="selected"':"<div")+' title="'+r+'">'+s(r,this.data[o],n)+"</div>"),i.mouseover(a(o)),i.click(l(o)),this.container.append(i);this.enabled=!0,this.container.show()},processResponse:function(text){var response;try{response=eval("("+text+")")}catch(t){return}$.isArray(response.data)||(response.data=[]),this.options.noCache||(this.cachedResponse[response.query]=response,0===response.suggestions.length&&this.badQueries.push(response.query)),response.query===this.getQuery(this.currentValue)&&(this.suggestions=response.suggestions,this.data=response.data,this.suggest())},activate:function(t){var e,i;return e=this.container.children(),-1!==this.selectedIndex&&e.length>this.selectedIndex&&$(e.get(this.selectedIndex)).removeClass(),this.selectedIndex=t,-1!==this.selectedIndex&&e.length>this.selectedIndex&&(i=e.get(this.selectedIndex),$(i).addClass("selected")),i},deactivate:function(t,e){t.className="",this.selectedIndex===e&&(this.selectedIndex=-1)},select:function(t){var e,i;(e=this.suggestions[t])&&(this.el.val(e),this.options.autoSubmit&&(i=this.el.parents("form"),i.length>0&&i.get(0).submit()),this.ignoreValueChange=!0,this.hide(),this.onSelect(t))},moveUp:function(){if(-1!==this.selectedIndex)return 0===this.selectedIndex?(this.container.children().get(0).className="",this.selectedIndex=-1,void this.el.val(this.currentValue)):void this.adjustScroll(this.selectedIndex-1)},moveDown:function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(t){var e,i,s,n;e=this.activate(t),i=e.offsetTop,s=this.container.scrollTop(),n=s+this.options.maxHeight-25,i<s?this.container.scrollTop(i):i>n&&this.container.scrollTop(i-this.options.maxHeight+25),this.el.val(this.getValue(this.suggestions[t]))},onSelect:function(t){var e,i,s,n;e=this,i=e.options.onSelect,s=e.suggestions[t],n=e.data[t],e.el.val(e.getValue(s)),$.isFunction(i)&&i(s,n,e.el)},getValue:function(t){var e,i,s,n;return n=this,(e=n.options.delimiter)?(i=n.currentValue,s=i.split(e),1===s.length?t:i.substr(0,i.length-s[s.length-1].length)+t):t}}}(jQuery),function(t,e,i,s){"use strict";function n(e,i){this.$element=t(e),i&&("string"!==t.type(i.delay)&&"number"!==t.type(i.delay)||(i.delay={show:i.delay,hide:i.delay})),this.options=t.extend({},l,i),this._defaults=l,this._name=o,this._targetclick=!1,this.init(),c.push(this.$element)}var o="webuiPopover",r="webui-popover",a="webui.popover",l={placement:"auto",width:"auto",height:"auto",trigger:"click",style:"",delay:{show:null,hide:null},async:{method:"GET",data:null,before:null,success:null},cache:!0,multi:!1,arrow:!0,title:"",content:"",closeable:!1,padding:!0,url:"",type:"html",animation:null,template:'<div class="webui-popover"><div class="arrow"></div><div class="webui-popover-inner"><a href="#" class="close">&times;</a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div></div></div>',backdrop:!1,dismissible:!0,onShow:null,onHide:null,abortXHR:!0,autoHide:!1,offsetTop:0,offsetLeft:0,iframeOptions:{frameborder:"0",allowtransparency:"true",id:"",name:"",scrolling:"",onload:"",height:"",width:""}},c=[],h=t('<div class="webui-popover-backdrop"></div>'),u=0,d=!1,f=t(i),p=function(t,e){return isNaN(t)?e||0:Number(t)},g=function(t){return t.data("plugin_"+o)},m=function(){for(var t=0;t<c.length;t++)c[t].webuiPopover("hide");f.trigger("hiddenAll."+a)},_=function(t){var e={x:0,y:0};if("touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type||"touchcancel"===t.type){var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.x=i.pageX,e.y=i.pageY}else"mousedown"!==t.type&&"mouseup"!==t.type&&"click"!==t.type||(e.x=t.pageX,e.y=t.pageY);return e};n.prototype={init:function(){"click"===this.getTrigger()?this.$element.off("click touchend").on("click touchend",t.proxy(this.toggle,this)):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave click").on("mouseenter",t.proxy(this.mouseenterHandler,this)).on("mouseleave",t.proxy(this.mouseleaveHandler,this)),this._poped=!1,this._inited=!0,this._opened=!1,this._idSeed=u,this.options.backdrop&&h.appendTo(i.body).hide(),u++,"sticky"===this.getTrigger()&&this.show()},destroy:function(){for(var t=-1,e=0;e<c.length;e++)if(c[e]===this.$element){t=e;break}c.splice(t,1),this.hide(),this.$element.data("plugin_"+o,null),"click"===this.getTrigger()?this.$element.off("click"):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave"),this.$target&&this.$target.remove()},hide:function(e,i){if((e||"sticky"!==this.getTrigger())&&this._opened){i&&(i.preventDefault(),i.stopPropagation()),this.xhr&&!0===this.options.abortXHR&&(this.xhr.abort(),this.xhr=null);var s=t.Event("hide."+a);if(this.$element.trigger(s,[this.$target]),this.$target){this.$target.removeClass("in").addClass(this.getHideAnimation());var n=this;setTimeout(function(){n.$target.hide()},300)}this.options.backdrop&&h.hide(),this._opened=!1,this.$element.trigger("hidden."+a,[this.$target]),this.options.onHide&&this.options.onHide(this.$target)}},resetAutoHide:function(){var t=this,e=t.getAutoHide();e&&(t.autoHideHandler&&clearTimeout(t.autoHideHandler),t.autoHideHandler=setTimeout(function(){t.hide()},e))},toggle:function(t){t&&(t.preventDefault(),t.stopPropagation()),this[this.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){m()},show:function(){var t=this.getTarget().removeClass().addClass(r).addClass(this._customTargetClass);this.options.multi||this.hideAll(),this._opened||(this.getCache()&&this._poped&&""!==this.content||(this.content="",this.setTitle(this.getTitle()),this.options.closeable||t.find(".close").off("click").remove(),this.isAsync()?this.setContentASync(this.options.content):this.setContent(this.getContent()),t.show()),this.displayContent(),this.options.onShow&&this.options.onShow(t),this.bindBodyEvents(),this.options.backdrop&&h.show(),this._opened=!0,this.resetAutoHide())},displayContent:function(){var e=this.getElementPosition(),s=this.getTarget().removeClass().addClass(r).addClass(this._customTargetClass),n=this.getContentElement(),o=s[0].offsetWidth,l=s[0].offsetHeight,c="bottom",h=t.Event("show."+a);this.$element.trigger(h,[s]);var u=this.$element.data("width")||this.options.width;""===u&&(u=this._defaults.width),"auto"!==u&&s.width(u);var d=this.$element.data("height")||this.options.height;""===d&&(d=this._defaults.height),"auto"!==d&&n.height(d),this.options.style&&this.$target.addClass(r+"-"+this.options.style),this.options.arrow||s.find(".arrow").remove(),s.detach().css({top:-2e3,left:-2e3,display:"block"}),this.getAnimation()&&s.addClass(this.getAnimation()),s.appendTo(i.body),c=this.getPlacement(e),this.$element.trigger("added."+a),this.initTargetEvents(),this.options.padding||("auto"!==this.options.height&&n.css("height",n.outerHeight()),this.$target.addClass("webui-no-padding")),o=s[0].offsetWidth,l=s[0].offsetHeight;var f=this.getTargetPositin(e,c,o,l);if(this.$target.css(f.position).addClass(c).addClass("in"),"iframe"===this.options.type){var p=s.find("iframe"),g=s.width(),m=p.parent().height();""!==this.options.iframeOptions.width&&"auto"!==this.options.iframeOptions.width&&(g=this.options.iframeOptions.width),""!==this.options.iframeOptions.height&&"auto"!==this.options.iframeOptions.height&&(m=this.options.iframeOptions.height),p.width(g).height(m)}if(this.options.arrow||this.$target.css({margin:0}),this.options.arrow){var _=this.$target.find(".arrow");_.removeAttr("style"),"left"===c||"right"===c?_.css({top:this.$target.height()/2}):"top"!==c&&"bottom"!==c||_.css({left:this.$target.width()/2}),f.arrowOffset&&(-1===f.arrowOffset.left||-1===f.arrowOffset.top?_.hide():_.css(f.arrowOffset))}this._poped=!0,this.$element.trigger("shown."+a,[this.$target])},isTargetLoaded:function(){return 0===this.getTarget().find("i.glyphicon-refresh").length},getTriggerElement:function(){return this.$element},getTarget:function(){if(!this.$target){var e=o+this._idSeed;this.$target=t(this.options.template).attr("id",e).data("trigger-element",this.getTriggerElement()),this._customTargetClass=this.$target.attr("class")!==r?this.$target.attr("class"):null,this.getTriggerElement().attr("data-target",e)}return this.$target},getTitleElement:function(){return this.getTarget().find(".webui-popover-title")},getContentElement:function(){return this.$contentElement||(this.$contentElement=this.getTarget().find(".webui-popover-content")),this.$contentElement},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getAutoHide:function(){return this.$element.attr("data-auto-hide")||this.options.autoHide},getOffsetTop:function(){return p(this.$element.attr("data-offset-top"))||this.options.offsetTop},getOffsetLeft:function(){return p(this.$element.attr("data-offset-left"))||this.options.offsetLeft},getAsyncMethod:function(){return this.$element.attr("data-async-method")||this.options.async.method},getAsyncData:function(){return this.options.async.data},getCache:function(){var t=this.$element.attr("data-cache");if(void 0!==t)switch(t.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1}return this.options.cache},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getDelayShow:function(){var t=this.$element.attr("data-delay-show");return void 0!==t?t:0===this.options.delay.show?0:this.options.delay.show||100},getHideDelay:function(){var t=this.$element.attr("data-delay-hide");return void 0!==t?t:0===this.options.delay.hide?0:this.options.delay.hide||100},getAnimation:function(){return this.$element.attr("data-animation")||this.options.animation},getHideAnimation:function(){var t=this.getAnimation();return t?t+"-out":"out"},setTitle:function(t){var e=this.getTitleElement();t?e.html(t):e.remove()},hasContent:function(){return this.getContent()},getIframe:function(){var e=t("<iframe></iframe>").attr("src",this.getUrl()),i=this;return t.each(this._defaults.iframeOptions,function(t){void 0!==i.options.iframeOptions[t]&&e.attr(t,i.options.iframeOptions[t])}),e},getContent:function(){if(this.getUrl())switch(this.options.type){case"iframe":this.content=this.getIframe();break;case"html":try{this.content=t(this.getUrl()),this.content.is(":visible")||this.content.show()}catch(t){throw new Error("Unable to get popover content. Invalid selector specified.")}}else if(!this.content){var e="";if(e=t.isFunction(this.options.content)?this.options.content.apply(this.$element[0],[this]):this.options.content,this.content=this.$element.attr("data-content")||e,!this.content){var i=this.$element.next();i&&i.hasClass(r+"-content")&&(this.content=i)}}return this.content},setContent:function(t){var e=this.getTarget(),i=this.getContentElement();"string"==typeof t?i.html(t):t instanceof jQuery&&(t.removeClass(r+"-content"),i.html(""),t.appendTo(i)),this.$target=e},isAsync:function(){return"async"===this.options.type},setContentASync:function(e){var i=this;this.xhr||(this.xhr=t.ajax({url:this.getUrl(),type:this.getAsyncMethod(),data:this.getAsyncData(),cache:this.getCache(),beforeSend:function(t){i.options.async.before&&i.options.async.before(i,t)},success:function(s){i.bindBodyEvents(),e&&t.isFunction(e)?i.content=e.apply(i.$element[0],[s]):i.content=s,i.setContent(i.content),i.getContentElement().removeAttr("style"),i.displayContent(),i.options.async.success&&i.options.async.success(i,s)},complete:function(){i.xhr=null}}))},bindBodyEvents:function(){this.options.dismissible&&"click"===this.getTrigger()&&!d&&(f.off("keyup.webui-popover").on("keyup.webui-popover",t.proxy(this.escapeHandler,this)),f.off("click.webui-popover touchend.webui-popover").on("click.webui-popover touchend.webui-popover",t.proxy(this.bodyClickHandler,this)))},mouseenterHandler:function(){var t=this;t._timeout&&clearTimeout(t._timeout),t._enterTimeout=setTimeout(function(){t.getTarget().is(":visible")||t.show()},this.getDelayShow())},mouseleaveHandler:function(){var t=this;clearTimeout(t._enterTimeout),t._timeout=setTimeout(function(){t.hide()},this.getHideDelay())},escapeHandler:function(t){27===t.keyCode&&this.hideAll()},bodyClickHandler:function(t){d=!0;for(var e=!0,i=0;i<c.length;i++){var s=g(c[i]);if(s._opened){var n=s.getTarget().offset().left,o=s.getTarget().offset().top,r=s.getTarget().offset().left+s.getTarget().width(),a=s.getTarget().offset().top+s.getTarget().height(),l=_(t);if(l.x>=n&&l.x<=r&&l.y>=o&&l.y<=a){e=!1;break}}}e&&m()},initTargetEvents:function(){"hover"===this.getTrigger()&&this.$target.off("mouseenter mouseleave").on("mouseenter",t.proxy(this.mouseenterHandler,this)).on("mouseleave",t.proxy(this.mouseleaveHandler,this)),this.$target.find(".close").off("click").on("click",t.proxy(this.hide,this,!0))},getPlacement:function(t){var e,s=i.documentElement,n=i.body,o=s.clientWidth,r=s.clientHeight,a=Math.max(n.scrollTop,s.scrollTop),l=Math.max(n.scrollLeft,s.scrollLeft),c=Math.max(0,t.left-l),h=Math.max(0,t.top-a);e="function"==typeof this.options.placement?this.options.placement.call(this,this.getTarget()[0],this.$element[0]):this.$element.data("placement")||this.options.placement;var u="horizontal"===e,d="vertical"===e;return"auto"===e||u||d?e=c<o/3?h<r/3?u?"right-bottom":"bottom-right":h<2*r/3?d?h<=r/2?"bottom-right":"top-right":"right":u?"right-top":"top-right":c<2*o/3?h<r/3?u?c<=o/2?"right-bottom":"left-bottom":"bottom":h<2*r/3?u?c<=o/2?"right":"left":h<=r/2?"bottom":"top":u?c<=o/2?"right-top":"left-top":"top":h<r/3?u?"left-bottom":"bottom-left":h<2*r/3?d?h<=r/2?"bottom-left":"top-left":"left":u?"left-top":"top-left":"auto-top"===e?e=c<o/3?"top-right":c<2*o/3?"top":"top-left":"auto-bottom"===e?e=c<o/3?"bottom-right":c<2*o/3?"bottom":"bottom-left":"auto-left"===e?e=h<r/3?"left-top":h<2*r/3?"left":"left-bottom":"auto-right"===e&&(e=h<r/3?"right-top":h<2*r/3?"right":"right-bottom"),e},getElementPosition:function(){return t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTargetPositin:function(t,e,s,n){var o=t,r=i.documentElement,a=i.body,l=r.clientWidth,c=r.clientHeight,h=this.$element.outerWidth(),u=this.$element.outerHeight(),d=Math.max(a.scrollTop,r.scrollTop),f=Math.max(a.scrollLeft,r.scrollLeft),p={},g=null,m=this.options.arrow?20:0,_=h<m+10?m:0,v=u<m+10?m:0,b=0,y=c+d,w=l+f,x=o.left+o.width/2-_>0,k=o.left+o.width/2+_<w,T=o.top+o.height/2-v>0,C=o.top+o.height/2+v<y;switch(e){case"bottom":p={top:o.top+o.height,left:o.left+o.width/2-s/2};break;case"top":p={top:o.top-n,left:o.left+o.width/2-s/2};break;case"left":p={top:o.top+o.height/2-n/2,left:o.left-s};break;case"right":p={top:o.top+o.height/2-n/2,left:o.left+o.width};break;case"top-right":p={top:o.top-n,left:x?o.left-_:10},g={left:x?Math.min(h,s)/2+_:-2e3};break;case"top-left":b=k?_:-10,p={top:o.top-n,left:o.left-s+o.width+b},g={left:k?s-Math.min(h,s)/2-_:-2e3};break;case"bottom-right":p={top:o.top+o.height,left:x?o.left-_:10},g={left:x?Math.min(h,s)/2+_:-2e3};break;case"bottom-left":b=k?_:-10,p={top:o.top+o.height,left:o.left-s+o.width+b},g={left:k?s-Math.min(h,s)/2-_:-2e3};break;case"right-top":b=C?v:-10,p={top:o.top-n+o.height+b,left:o.left+o.width},g={top:C?n-Math.min(u,n)/2-v:-2e3};break;case"right-bottom":p={top:T?o.top-v:10,left:o.left+o.width},g={top:T?Math.min(u,n)/2+v:-2e3};break;case"left-top":b=C?v:-10,p={top:o.top-n+o.height+b,left:o.left-s},g={top:C?n-Math.min(u,n)/2-v:-2e3};break;case"left-bottom":p={top:T?o.top-v:10,left:o.left-s},g={top:T?Math.min(u,n)/2+v:-2e3}}return p.top+=this.getOffsetTop(),p.left+=this.getOffsetLeft(),{position:p,arrowOffset:g}}},t.fn[o]=function(e,i){var s=[],r=this.each(function(){var r=t.data(this,"plugin_"+o);r?"destroy"===e?r.destroy():"string"==typeof e&&s.push(r[e]()):(e?"string"==typeof e?"destroy"!==e&&(i||(r=new n(this,null),s.push(r[e]()))):"object"==typeof e&&(r=new n(this,e)):r=new n(this,null),t.data(this,"plugin_"+o,r))});return s.length?s:r}}(jQuery,window,document),function(){"use strict";function t(){var t="{}";if("userDataBehavior"==x){y.load("jStorage");try{t=y.getAttribute("jStorage")}catch(t){}try{C=y.getAttribute("jStorage_update")}catch(t){}b.jStorage=t}r(),c(),h()}function e(){"localStorage"==x||"globalStorage"==x?"addEventListener"in window?window.addEventListener("storage",i,!1):document.attachEvent("onstorage",i):"userDataBehavior"==x&&setInterval(i,1e3)}function i(){var t;clearTimeout(T),T=setTimeout(function(){if("localStorage"==x||"globalStorage"==x)t=b.jStorage_update;else if("userDataBehavior"==x){y.load("jStorage");try{t=y.getAttribute("jStorage_update")}catch(t){}}t&&t!=C&&(C=t,s())},25)}function s(){var e,i=m.parse(m.stringify(v.__jstorage_meta.CRC32));t(),e=m.parse(m.stringify(v.__jstorage_meta.CRC32));var s,o=[],r=[];for(s in i)if(i.hasOwnProperty(s)){if(!e[s]){r.push(s);continue}i[s]!=e[s]&&"2."==String(i[s]).substr(0,2)&&o.push(s)}for(s in e)e.hasOwnProperty(s)&&(i[s]||o.push(s));n(o,"updated"),n(r,"deleted")}function n(t,e){t=[].concat(t||[]);var i,s,n,o;if("flushed"==e){t=[];for(var r in k)k.hasOwnProperty(r)&&t.push(r);e="deleted"}for(i=0,n=t.length;i<n;i++){if(k[t[i]])for(s=0,o=k[t[i]].length;s<o;s++)k[t[i]][s](t[i],e);if(k["*"])for(s=0,o=k["*"].length;s<o;s++)k["*"][s](t[i],e)}}function o(){var t=(+new Date).toString();if("localStorage"==x||"globalStorage"==x)try{b.jStorage_update=t}catch(t){x=!1}else"userDataBehavior"==x&&(y.setAttribute("jStorage_update",t),y.save("jStorage"));i()}function r(){if(b.jStorage)try{v=m.parse(String(b.jStorage))}catch(t){b.jStorage="{}"}else b.jStorage="{}";w=b.jStorage?String(b.jStorage).length:0,v.__jstorage_meta||(v.__jstorage_meta={}),v.__jstorage_meta.CRC32||(v.__jstorage_meta.CRC32={})}function a(){d();try{b.jStorage=m.stringify(v),y&&(y.setAttribute("jStorage",b.jStorage),y.save("jStorage")),w=b.jStorage?String(b.jStorage).length:0}catch(t){}}function l(t){if("string"!=typeof t&&"number"!=typeof t)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==t)throw new TypeError("Reserved key name");return!0}function c(){var t,e,i,s,r=1/0,l=!1,h=[];if(clearTimeout(_),v.__jstorage_meta&&"object"==typeof v.__jstorage_meta.TTL){t=+new Date,i=v.__jstorage_meta.TTL,s=v.__jstorage_meta.CRC32;for(e in i)i.hasOwnProperty(e)&&(i[e]<=t?(delete i[e],delete s[e],delete v[e],l=!0,h.push(e)):i[e]<r&&(r=i[e]));r!=1/0&&(_=setTimeout(c,Math.min(r-t,2147483647))),l&&(a(),o(),n(h,"deleted"))}}function h(){var t;if(v.__jstorage_meta.PubSub){var e,i=j,s=[];for(t=v.__jstorage_meta.PubSub.length-1;t>=0;t--)e=v.__jstorage_meta.PubSub[t],e[0]>j&&(i=e[0],s.unshift(e));for(t=s.length-1;t>=0;t--)u(s[t][1],s[t][2]);j=i}}function u(t,e){if(S[t])for(var i=0,s=S[t].length;i<s;i++)try{S[t][i](t,m.parse(m.stringify(e)))}catch(t){}}function d(){if(v.__jstorage_meta.PubSub){for(var t=+new Date-2e3,e=0,i=v.__jstorage_meta.PubSub.length;e<i;e++)if(v.__jstorage_meta.PubSub[e][0]<=t){v.__jstorage_meta.PubSub.splice(e,v.__jstorage_meta.PubSub.length-e);break}v.__jstorage_meta.PubSub.length||delete v.__jstorage_meta.PubSub}}function f(t,e){v.__jstorage_meta||(v.__jstorage_meta={}),v.__jstorage_meta.PubSub||(v.__jstorage_meta.PubSub=[]),v.__jstorage_meta.PubSub.unshift([+new Date,t,e]),a(),o()}function p(t,e){for(var i,s=t.length,n=e^s,o=0;s>=4;)i=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24,i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16),i^=i>>>24,i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^i,s-=4,++o;switch(s){case 3:n^=(255&t.charCodeAt(o+2))<<16;case 2:n^=(255&t.charCodeAt(o+1))<<8;case 1:n^=255&t.charCodeAt(o),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)}return n^=n>>>13,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),(n^=n>>>15)>>>0}var g=window.jQuery||window.$||(window.$={}),m={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(t){return String(t).evalJSON()}||g.parseJSON||g.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||g.toJSON};if("function"!=typeof m.parse||"function"!=typeof m.stringify)throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var _,v={__jstorage_meta:{CRC32:{}}},b={jStorage:"{}"},y=null,w=0,x=!1,k={},T=!1,C=0,S={},j=+new Date,$={isXML:function(t){var e=(t?t.ownerDocument||t:0).documentElement;return!!e&&"HTML"!==e.nodeName},encode:function(t){if(!this.isXML(t))return!1;try{return(new XMLSerializer).serializeToString(t)}catch(e){try{return t.xml}catch(t){}}return!1},decode:function(t){var e,i="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(t){var e=new ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e};return!!i&&(e=i.call("DOMParser"in window&&new DOMParser||window,t,"text/xml"),!!this.isXML(e)&&e)}};g.jStorage={version:"0.4.12",set:function(t,e,i){if(l(t),i=i||{},void 0===e)return this.deleteKey(t),e;if($.isXML(e))e={_is_xml:!0,xml:$.encode(e)};else{if("function"==typeof e)return;e&&"object"==typeof e&&(e=m.parse(m.stringify(e)))}return v[t]=e,v.__jstorage_meta.CRC32[t]="2."+p(m.stringify(e),2538058380),this.setTTL(t,i.TTL||0),n(t,"updated"),e},get:function(t,e){return l(t),t in v?v[t]&&"object"==typeof v[t]&&v[t]._is_xml?$.decode(v[t].xml):v[t]:void 0===e?null:e},deleteKey:function(t){return l(t),t in v&&(delete v[t],"object"==typeof v.__jstorage_meta.TTL&&t in v.__jstorage_meta.TTL&&delete v.__jstorage_meta.TTL[t],delete v.__jstorage_meta.CRC32[t],a(),o(),n(t,"deleted"),!0)},setTTL:function(t,e){var i=+new Date;return l(t),e=Number(e)||0,t in v&&(v.__jstorage_meta.TTL||(v.__jstorage_meta.TTL={}),e>0?v.__jstorage_meta.TTL[t]=i+e:delete v.__jstorage_meta.TTL[t],a(),c(),o(),!0)},getTTL:function(t){var e=+new Date;return l(t),t in v&&v.__jstorage_meta.TTL&&v.__jstorage_meta.TTL[t]?v.__jstorage_meta.TTL[t]-e||0:0},flush:function(){return v={__jstorage_meta:{CRC32:{}}},a(),o(),n(null,"flushed"),!0},storageObj:function(){function t(){}return t.prototype=v,new t},index:function(){var t,e=[];for(t in v)v.hasOwnProperty(t)&&"__jstorage_meta"!=t&&e.push(t);return e},storageSize:function(){return w},currentBackend:function(){return x},storageAvailable:function(){return!!x},listenKeyChange:function(t,e){l(t),k[t]||(k[t]=[]),k[t].push(e)},stopListening:function(t,e){if(l(t),k[t]){if(!e)return void delete k[t];for(var i=k[t].length-1;i>=0;i--)k[t][i]==e&&k[t].splice(i,1)}},subscribe:function(t,e){if(!(t=(t||"").toString()))throw new TypeError("Channel not defined");S[t]||(S[t]=[]),S[t].push(e)},publish:function(t,e){if(!(t=(t||"").toString()))throw new TypeError("Channel not defined");f(t,e)},reInit:function(){t()},noConflict:function(t){return delete window.$.jStorage,t&&(window.jStorage=this),this}},function(){var t=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),t=!0,window.localStorage.removeItem("_tmptest")}catch(t){}if(t)try{window.localStorage&&(b=window.localStorage,x="localStorage",C=b.jStorage_update)}catch(t){}else if("globalStorage"in window)try{window.globalStorage&&(b="localhost"==window.location.hostname?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],x="globalStorage",C=b.jStorage_update)}catch(t){}else{if(y=document.createElement("link"),!y.addBehavior)return void(y=null);y.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(y);try{y.load("jStorage")}catch(t){y.setAttribute("jStorage","{}"),y.save("jStorage"),y.load("jStorage")}var s="{}";try{s=y.getAttribute("jStorage")}catch(t){}try{C=y.getAttribute("jStorage_update")}catch(t){}b.jStorage=s,x="userDataBehavior"}r(),c(),e(),h(),"addEventListener"in window&&window.addEventListener("pageshow",function(t){t.persisted&&i()},!1)}()}(),function(){function t(){return $("#markdown, #comment_markdown").is(":checked")}habraWYG={insertTagWithText:function(e,i){if(t()&&"b"===i)return habraWYG.insertTag(e,"**","**");if(t()&&"i"===i)return habraWYG.insertTag(e,"*","*");if(t()&&"s"===i)return habraWYG.insertTag(e,"~~","~~");if(t()&&"h2"===i)return habraWYG.insertTag(e,"## ","");if(t()&&"h3"===i)return habraWYG.insertTag(e,"### ","");if(t()&&"h4"===i)return habraWYG.insertTag(e,"#### ","");if(t()&&"blockquote"===i)return habraWYG.insertTag(e,"> ","");var s="<"+i+">",n="</"+i+">";return habraWYG.insertTag(e,s,n),!1},insertTagWithLatex:function(t,e){var i=e,s=e;return habraWYG.insertTag(t,i,s),!1},insertImage:function(e){var i=prompt(" src ","http://");if(i){if(t())return habraWYG.insertTag(e,"![image","]("+i+")");habraWYG.insertTag(e,'<img src="'+i+'" alt="image"/>',"")}return!1},insertLink:function(e){var i=prompt(" URL ","http://");if(i){if(t())return habraWYG.insertTag(e,"[","]("+i+")");habraWYG.insertTag(e,'<a href="'+i+'">',"</a>")}return!1},insertSpoiler:function(t){return habraWYG.insertTag(t,'<spoiler title=" ">\n',"\n</spoiler>"),!1},insertUser:function(t){var e=prompt("  ","");return e&&habraWYG.insertTag(t,"@"+e,""),!1},insertHabracut:function(t){return habraWYG.insertTag(t,"<cut />",""),!1},insertTag:function(t,e,i,s){var n=$(t).parents('[data-component="tm-editor"]'),o=$("textarea",n).get(0);o.focus();var r=o.scrollTop,a=habraWYG.getCursor(o),l=o.value.substring(0,a.start),c=o.value.substring(a.start,a.end),h=o.value.substring(a.end);if(s&&(c=c.replace(/\r/g,""),c=""!=c?c:" ",c=c.replace(new RegExp(s.findStr,"gm"),s.repStr)),a.start==a.end)var u=a.start+e.length;else var u=String(l+e+c+i).length;return o.value=l+e+c+i+h,habraWYG.setCursor(o,u,u),r&&(o.scrollTop=r),$("textarea",n).trigger("change"),!1},insertTagFromDropBox:function(t){habraWYG.insertTagWithText(t,t.value),t.selectedIndex=0},insertList:function(e){var i="<"+e.value+">\n",s="\n</"+e.value+">",n={findStr:"^(.+)",repStr:"\t<li>$1</li>"};t()&&"ul"===e.value&&(n={findStr:"^(.+)",repStr:"- $1"},i="",s=""),t()&&"ol"===e.value&&(n={findStr:"^(.+)",repStr:"1. $1"},i="",s=""),habraWYG.insertTag(e,i,s,n),e.selectedIndex=0},insertSource:function(e){if("code"===e.value){var i="<code>\n",s="\n</code>";t()?habraWYG.insertTag(e,"`","`"):habraWYG.insertTag(e,i,s),e.selectedIndex=0}else{var i='<source lang="'+e.value+'">\n',s="\n</source>";t()?habraWYG.insertTag(e,"```"+e.value+"\n","\n```"):habraWYG.insertTag(e,i,s),e.selectedIndex=0}},insertTab:function(t,e){if(t||(t=window.event),t.keyCode)var i=t.keyCode;else if(t.which)var i=t.which;switch(t.type){case"keydown":16==i&&(habraWYG.shift=!0);break;case"keyup":16==i&&(habraWYG.shift=!1)}e.focus();var s=habraWYG.getCursor(e);if(s.start==s.end)return!0;if(9==i&&!habraWYG.shift){var n={findStr:"^(.+)",repStr:"\t$1"};return habraWYG.insertTag(e,"","",n),!1}if(9==i&&habraWYG.shift){var n={findStr:"^\t(.+)",repStr:"$1"};return habraWYG.insertTag(e,"","",n),!1}},getCursor:function(t){var e={start:0,end:0};if(t.setSelectionRange)e.start=t.selectionStart,e.end=t.selectionEnd;else{if(!document.selection)return!1;if(document.selection&&document.selection.createRange){var i=document.selection.createRange(),s=i.duplicate();s.moveToElementText(t),s.setEndPoint("EndToEnd",i),e.start=s.text.length-i.text.length,e.end=e.start+i.text.length}}return e},setCursor:function(t,e,i){if(t.createTextRange){var s=t.createTextRange();s.move("character",e),s.select()}else t.selectionStart&&t.setSelectionRange(e,i)},insertLatex:function(t,e){if(""!=t.value){var i=endTag=e;habraWYG.insertTag(link,i+t.value,endTag)}return!1}}}(),function(){function t(){return $("#mdCheck").length?$("#mdCheck").is(":checked"):!!$("#comment_markdown").length&&$("#comment_markdown").is(":checked")}function e(t){/\bhas-nested/.test(t.parentNode.className)&&(t.classList.remove("btn_active"),t.setAttribute("aria-expanded",!1),t.parentNode.classList.remove("dropdown_active"))}habraWYG2={insertTagWithText:function(e,i){if(t()&&"b"===i)return habraWYG2.insertTag(e,"**","**");if(t()&&"i"===i)return habraWYG2.insertTag(e,"*","*");if(t()&&"s"===i)return habraWYG2.insertTag(e,"~~","~~");if(t()&&"h2"===i)return habraWYG2.insertTag(e,"## ","");if(t()&&"h3"===i)return habraWYG2.insertTag(e,"### ","");if(t()&&"h4"===i)return habraWYG2.insertTag(e,"#### ","");if(t()&&"blockquote"===i)return habraWYG2.insertTag(e,"> ","");var s="<"+i+">",n="</"+i+">";habraWYG2.insertTag(e,s,n)},insertTagWithLatex:function(t,e){var i=e,s=e;habraWYG2.insertTag(t,i,s)},insertImage:function(e){var i=prompt(" src ","http://");if(i){
if(t())return habraWYG2.insertTag(e,"![image","]("+i+")");habraWYG2.insertTag(e,'<img src="'+i+'" alt="image"/>',"")}return!1},insertLink:function(e){var i=prompt(" URL ","http://");if(i){if(t())return habraWYG2.insertTag(e,"[","]("+i+")");habraWYG2.insertTag(e,'<a href="'+i+'">',"</a>")}return!1},insertSpoiler:function(t){return habraWYG2.insertTag(t,'<spoiler title=" ">\n',"\n</spoiler>"),!1},insertUser:function(t){var e=prompt("  ","");return e&&habraWYG2.insertTag(t,"@"+e,""),!1},insertHabracut:function(t){return habraWYG2.insertTag(t,"<cut />",""),!1},insertTag:function(t,i,s,n){var t=t||null,o=$('[data-component="tm-editor"]'),r=$("textarea",o).get(0);if(t){e(t.parentNode.parentNode.parentNode.getElementsByTagName("button")[0])}r.focus();var a=r.scrollTop,l=habraWYG2.getCursor(r),c=r.value.substring(0,l.start),h=r.value.substring(l.start,l.end),u=r.value.substring(l.end);if(n&&(h=h.replace(/\r/g,""),h=""!=h?h:" ",h=h.replace(new RegExp(n.findStr,"gm"),n.repStr)),l.start==l.end)var d=l.start+i.length;else var d=String(c+i+h+s).length;return r.value=c+i+h+s+u,habraWYG2.setCursor(r,d,d),a&&(r.scrollTop=a),!1},insertTagFromDropBox:function(t){habraWYG2.insertTagWithText(t,t.value),t.selectedIndex=0},insertList:function(e,i){var s="<"+i+">\n",n="\n</"+i+">",o={findStr:"^(.+)",repStr:"\t<li>$1</li>"};t()&&"ul"===i&&(o={findStr:"^(.+)",repStr:"- $1"},s="",n=""),t()&&"ol"===i&&(o={findStr:"^(.+)",repStr:"1. $1"},s="",n=""),habraWYG2.insertTag(e,s,n,o),e.selectedIndex=0},insertSource:function(i){function s(e){t()?habraWYG2.insertTag(i,"```"+e+"\n","\n```"):habraWYG2.insertTag(i,'<source lang="'+e+'">',"</source>")}var n=document.getElementById("list-languages"),o=document.createElement("ul");o.className="list-languages";var r=document.createElement("li");r.className="list-languages__item",r.appendChild(document.createTextNode("Code")),r.onclick=function(s){s.preventDefault(),t()?habraWYG2.insertTag(i,"```","```"):habraWYG2.insertTag(i,"<code>","</code>"),e(i)},o.appendChild(r);var a=hljs.listLanguages();a.sort();for(var l=0;l<a.length;l++){var c=document.createElement("li");c.className="list-languages__item",c.setAttribute("data-lang",a[l]),c.appendChild(document.createTextNode(a[l])),o.appendChild(c),c.onclick=function(t){t.preventDefault(),s(t.target.getAttribute("data-lang")),e(i)}}return n.appendChild(o),!1},insertTab:function(t,e){if(t||(t=window.event),t.keyCode)var i=t.keyCode;else if(t.which)var i=t.which;switch(t.type){case"keydown":16==i&&(habraWYG2.shift=!0);break;case"keyup":16==i&&(habraWYG2.shift=!1)}e.focus();var s=habraWYG2.getCursor(e);if(s.start==s.end)return!0;if(9==i&&!habraWYG2.shift){var n={findStr:"^(.+)",repStr:"\t$1"};return habraWYG2.insertTag(e,"","",n),!1}if(9==i&&habraWYG2.shift){var n={findStr:"^\t(.+)",repStr:"$1"};return habraWYG2.insertTag(e,"","",n),!1}},getCursor:function(t){var e={start:0,end:0};if(t.setSelectionRange)e.start=t.selectionStart,e.end=t.selectionEnd;else{if(!document.selection)return!1;if(document.selection&&document.selection.createRange){var i=document.selection.createRange(),s=i.duplicate();s.moveToElementText(t),s.setEndPoint("EndToEnd",i),e.start=s.text.length-i.text.length,e.end=e.start+i.text.length}}return e},setCursor:function(t,e,i){if(t.createTextRange){var s=t.createTextRange();s.move("character",e),s.select()}else t.selectionStart&&t.setSelectionRange(e,i)}}}();